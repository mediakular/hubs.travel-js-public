(()=>{var p=(e,t)=>()=>(e&&(t=e(e=0)),t);var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);function k(e){let t=document.querySelectorAll(`${e} .destination-testimonials-item`),i=document.querySelectorAll(`${e} .dyn-author-image`);if(!t||t.length===0){console.error("No testimonials found");return}let o=0;t.forEach(a=>a.style.display="none"),i.forEach(a=>{a.style.display="none",a.classList.remove("active")});function r(a){t.forEach((d,l)=>{d.style.display=l===a?"block":"none"}),i.forEach((d,l)=>{d.classList.toggle("active",l===a)}),o=a}let s=[...t];s.forEach((a,d)=>{let l=a.querySelector(".testimonial-card-author-image")?.src,u=document.querySelector(`${e} [data-slot="${d+1}"]`);u&&l&&(u.src=l,u.style.display="inline",d===0&&u.classList.add("active"),u.addEventListener("click",()=>{r(d)}))}),r(0);let n=document.getElementById("destination-testimonials-btn-left"),c=document.getElementById("destination-testimonials-btn-right");n&&n.addEventListener("click",()=>{let a=(o-1+s.length)%s.length;r(a)}),c&&c.addEventListener("click",()=>{let a=(o+1)%s.length;r(a)})}var L=p(()=>{});var g,q=p(()=>{g=function(){let e={};function t(r,s,n){let c=document.querySelector(r),a=document.querySelector(`${r}.w-dropdown`),d=c.querySelector(`${r} .w-dropdown-toggle`),l=c.querySelector(`${r} .w-dropdown-list`),u=c.querySelector(`${r} .dropdown-selected-value`),f=c.querySelectorAll(`${r} .dropdown-item`);if(e[r]={container:c,dropdown:a,dropdownToggle:d,dropdownList:l,selectedItemValueContainer:u,collectionItems:f,onChange:s},f.forEach(m=>{m.addEventListener("click",function(v){v.preventDefault();let S=this;i(r,S),s&&s(S),l.classList.remove("w--open"),a.blur()})}),n){let m=o(r,n);m&&setTimeout(()=>{m.click()},200)}}function i(r,s){let n=e[r];if(!n)return;let c=n.selectedItemValueContainer;for(;c.firstChild;)c.removeChild(c.firstChild);let a=s;if(a){let d=a.cloneNode(!0);c.appendChild(d);let l=a.getAttribute("data-value");n.dropdown.setAttribute("data-current-value",l)}else console.error("SelectedItem Element not found.",s)}function o(r,s){let n=e[r];return Array.from(n.collectionItems).find(c=>c.getAttribute("data-value")===s)}return{init:function({selector:r,onChange:s,initialValue:n}){document.addEventListener("DOMContentLoaded",function(){t(r,s,n)})},setValue:function(r,s){let n=o(r,s);n?n.click():s!=null&&console.error(`No item with value '${s}' found in dropdown '${r}'`)},getValue:function(r){return e[r].dropdown.getAttribute("data-current-value")}}}()});var x,A=p(()=>{x=function(){let e=null;function t({selectorId:i,isReverse:o}){if(!document.querySelector(`${i} .swiper-wrapper`))return console.error("Required elements not found"),null;let s=new Swiper(`${i}.swiper`,{spaceBetween:16,loop:!0,slidesPerView:"auto",freeMode:!0,speed:6500,autoplay:{delay:0,disableOnInteraction:!1,reverseDirection:o,pauseOnMouseEnter:!1}});return e=s,s}return{init:function({selectorId:i,isReverse:o}){document.addEventListener("DOMContentLoaded",function(){let r=document.querySelector(`${i} .swiper-wrapper`);r.style.gap="0",r.style.setProperty("transition-timing-function","linear","important"),t({selectorId:i,isReverse:o})})}}}()});var D,W=p(()=>{D=function(){let e,t,i=null,o=null;function r({onItemClick:n}){let c=document.querySelector(o.swiperWrapper),a=document.querySelectorAll(o.swiperSlides);if(t=document.querySelector(o.prevButton),i=document.querySelector(o.nextButton),!c||!t||!i||!a)return console.error("Required elements not found"),null;let d=new Swiper(o.swiper,{direction:"vertical",slidesPerView:"auto",spaceBetween:8,freeMode:!1,navigation:{nextEl:o.nextButton,prevEl:o.prevButton},watchOverflow:!0});return e=d,s(),d.on("slideChange",function(){s()}),n&&a.forEach(l=>{l.addEventListener("click",u=>n(u.currentTarget))}),d}function s(){!t||!i||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",i.style.opacity=e.isEnd?"0.5":"1",i.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function({selectors:n,onItemClick:c}){o=n,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(o.swiperWrapper);a.style.gap="0",r({onItemClick:c})})}}}()});function C(e){let t=document.querySelectorAll(".room-price-data"),i=Array.from(t).map(o=>JSON.parse(o.textContent));return e?i.filter(o=>o.editionSlug===e):i}function y(e,t){return new Intl.NumberFormat("de-DE",{style:"currency",currency:t,currencyDisplay:"code"}).format(e)}var $=p(()=>{});function h(){let e=CollectionListDropDown.getValue("#workation-season-dropdown"),t=parseInt(CollectionListDropDown.getValue("#length-stay-dropdown")),i=parseInt(CollectionListDropDown.getValue("#guest-count-dropdown")),o=document.querySelector("#rooms")?.getAttribute("data-currency")??"EUR",r=document.querySelectorAll(".room-list-item"),s=e?C(e):[];r.forEach(n=>{let c=n.getAttribute("data-roomslug"),a=s.find(d=>d.roomSlug===c);Y(n,a,t,i,o)})}function Y(e,t,i,o,r){let s=e.querySelector(".room-item-price-breakdown"),n=e.querySelector(".room-item-price-month"),c=e.querySelector(".room-discount-text"),a=e.querySelector(".room-book-button"),d=e.querySelector(".room-item-price-not-avalable");if(!t){d.style.display="flex",s.style.display="none",n.style.display="none",c.parentElement.style.display="none",a.style.opacity="0.5",a.style.pointerEvents="none",a.style.cursor="not-allowed";return}d.style.display="none",n.style.display="block",c.parentElement.style.display="flex",a.style.opacity="1",a.style.pointerEvents="auto",a.style.cursor="pointer";let l=t.basePrice*o,u=t.discountMonth2,f=t.discountMonth3,m=l*(1-u/100),v=l*(1-f/100),S=l/30*7,w=y(S,r),B=y(l,r),j=!i||i.endsWith("-1");switch(s.style.display=j?"none":"inline",i){case"week-1":n.innerText=`${w} / week`,c.innerText="Longer stays unlock better discounts!";break;case"week-2":s.innerText=`1st week: ${w}`,n.innerText=`${w} - 2nd week`,c.innerText="Longer stays unlock better discounts!";break;case"week-3":s.innerHTML=`
        	1st week: ${w}<br>
          2nd week: ${w}`,n.innerText=`${w} - 3rd week`,c.innerText="Longer stays unlock better discounts!";break;default:case"month-1":n.innerText=`${B} / month`,c.innerText="Longer stays unlock better discounts!";break;case"month-2":s.innerText=`1st month: ${B}`,n.innerText=`${y(m,r)} - 2nd month`,c.parentElement.style.display=u==0?"none":"block",c.innerText=`${u.toFixed(1)}% discount for the 2nd month!`;break;case"month-3":s.innerHTML=`
        	1st month: ${B}<br>
          2nd month: ${y(m,r)}`,n.innerText=`${y(v,r)} - 3rd month`,c.parentElement.style.display=f==0?"none":"block",c.innerText=`${f.toFixed(1)}% discount for the 3rd month!`;break}}function b(e){let t=document.querySelectorAll(".dropdown-discount-2-months"),i=document.querySelectorAll(".dropdown-discount-3-months"),o=C(e),r=o.map(n=>n.discountMonth2),s=o.map(n=>n.discountMonth3);t.forEach(n=>{T(n,r)}),i.forEach(n=>{T(n,s)})}function T(e,t){if(!t||t.length===0){e.style.display="none";return}e.style.display="flex";let i=t.every(r=>r===t[0]),o=Math.min(...t);o==0?e.innerText="":e.innerText=`${o.toFixed(1)}% discount`,i||(e.innerText="From "+e.innerText)}function E(){let e=document.querySelectorAll(".room-book-button"),t=document.querySelector("#rooms")?.getAttribute("data-destination-slug");e.forEach(i=>{let o=i.querySelector("a"),r=o.getAttribute("href").split("?")[0],s=i.getAttribute("data-roomslug"),n=CollectionListDropDown.getValue("#workation-season-dropdown"),c=CollectionListDropDown.getValue("#guest-count-dropdown")??1;o.setAttribute("href",`${r}?destination=${encodeURIComponent(t)}&edition=${encodeURIComponent(n)}&room=${encodeURIComponent(s)}&guests=${encodeURIComponent(c)}`)})}function R(){let e=new URLSearchParams(window.location.search).get("edition"),t=document.querySelectorAll("#workation-season-dropdown .dropdown-item"),i=e??(t.length>0?t[0].getAttribute("data-value"):null);CollectionListDropDown.setValue("#workation-season-dropdown",i)}var I=p(()=>{$()});function O(){let e=document.getElementById("map-data").dataset.address;if(!e)return;new google.maps.Geocoder().geocode({address:e},function(i,o){if(o==="OK"){let r=new google.maps.Map(document.getElementById("map"),{zoom:14,center:i[0].geometry.location});new google.maps.Marker({map:r,position:i[0].geometry.location})}else console.error("Geocode failed: "+o)})}var M=p(()=>{});function P(){document.querySelectorAll("#upcoming-workations .swiper-slide").forEach(e=>{let t=e.getAttribute("data-booking-state")?.toLowerCase();t==="closed"?(e.style.opacity="0.5",e.style.pointerEvents="none",e.style.cursor="not-allowed"):t==="available soon"&&(e.style.pointerEvents="none",e.style.cursor="default")})}var V=p(()=>{});var U,F=p(()=>{U=function(){let e,t,i=null,o=null;function r(){let n=document.querySelector(o.refContainer),c=document.querySelector(o.swiperWrapper);if(t=document.querySelector(o.prevButton),i=document.querySelector(o.nextButton),!n||!c||!t||!i)return console.error("Required elements not found"),null;let d=n.getBoundingClientRect().left,l=new Swiper(o.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:d,slidesOffsetAfter:16,navigation:{nextEl:o.nextButton,prevEl:o.prevButton},watchOverflow:!0});return e=l,s(),l.on("slideChange",s),window.addEventListener("resize",()=>{let u=n.getBoundingClientRect().left;l&&l.params&&(l.params.slidesOffsetBefore=u,l.update())}),l}function s(){if(!t||!i)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let n=e.maxTranslate();e.translate<=n+5?(i.style.opacity="0.5",i.style.pointerEvents="none"):(i.style.opacity="1",i.style.pointerEvents="auto")}return{init:function(n){o=n,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(o.swiperWrapper);c.style.gap="0",r()})}}}()});var N,z=p(()=>{N=function(){let e,t,i=null,o=null;function r(){let n=document.querySelector(o.swiperWrapper);if(t=document.querySelector(o.prevButton),i=document.querySelector(o.nextButton),!n||!t||!i)return console.error("Required elements not found"),null;let c=new Swiper(o.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetAfter:16,navigation:{nextEl:o.nextButton,prevEl:o.prevButton},watchOverflow:!0});e=c,s(),c.on("slideChange",function(){s()});function a(){let l=n.getBoundingClientRect().left,u=document.querySelector("#features-cards-section .features-cards-carousel-container");u.style.width=`${window.innerWidth-l}px`,u.style.minWidth=`${window.innerWidth-l}px`,u.style.maxWidth=`${window.innerWidth-l}px`,n.style.width=`${window.innerWidth-l}px`,n.style.minWidth=`${window.innerWidth-l}px`,n.style.maxWidth=`${window.innerWidth-l}px`}return window.addEventListener("resize",a),a(),c}function s(){!t||!i||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",i.style.opacity=e.isEnd?"0.5":"1",i.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function(n){o=n,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(o.swiperWrapper);c.style.gap="0",r()})}}}()});function H(){document.querySelectorAll("#edition-cards-section .edition-card-item").forEach(t=>{let i=t.querySelectorAll("a"),o=t.getAttribute("data-editionslug"),r=t.getAttribute("data-bookingstate");i.forEach(s=>{if(r=="Available Soon"){s.setAttribute("href","#"),s.style.cursor="auto";let n=s.querySelector(".edition-card-image");n.style.opacity=.4}else if(o){let n=s.getAttribute("href").split("?")[0];s.setAttribute("href",`${n}?edition=${encodeURIComponent(o)}`)}})})}var G,K=p(()=>{G=function(){let e,t,i=null,o=[],r=null;function s(){let c=document.querySelector(r.refContainer),a=document.querySelector(r.swiperWrapper);if(t=document.querySelector(r.prevButton),i=document.querySelector(r.nextButton),o=Array.from(document.querySelectorAll("#edition-cards-section .swiper .swiper-slide")),!c||!a||!t||!i)return console.error("Required elements not found"),null;let l=c.getBoundingClientRect().left,u=new Swiper(r.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:l,slidesOffsetAfter:16,navigation:{nextEl:r.nextButton,prevEl:r.prevButton},watchOverflow:!0});return e=u,n(),u.on("slideChange",n),window.addEventListener("resize",()=>{let f=c.getBoundingClientRect().left;u&&u.params&&(u.params.slidesOffsetBefore=f,u.update())}),u}function n(){if(!t||!i)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let c=e.maxTranslate();e.translate<=c+5?(i.style.opacity="0.5",i.style.pointerEvents="none"):(i.style.opacity="1",i.style.pointerEvents="auto")}return{init:function(c){r=c,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(r.swiperWrapper);a.style.gap="0",s()})},filterSeason(c){if(!e)return;let a=o.filter(d=>c==="all"||c===d.getAttribute("data-season"));e.removeAllSlides(),e.addSlide(0,a),e.slideTo(0,0,!1),n()}}}()});function J(){let e=document.querySelectorAll(".filter-button"),t=document.querySelectorAll(".filter-list-item");e.forEach(o=>{o.addEventListener("click",function(){e.forEach(s=>s.classList.remove("active")),this.classList.add("active");let r=this.getAttribute("data-season");r==="all"?t.forEach(s=>{s.classList.remove("filtered-out")}):t.forEach(s=>{s.getAttribute("data-season")===r?s.classList.remove("filtered-out"):s.classList.add("filtered-out")})})});let i=document.querySelector('[data-season="all"]');i&&i.click()}var Q=p(()=>{});var Z=X(()=>{L();q();A();W();I();M();V();F();z();K();Q();window.CollectionListDropDown=g;g.init({selector:"#workation-season-dropdown",onChange:e=>{let t=e.getAttribute("data-value");b(t),h(),E()}});g.init({selector:"#length-stay-dropdown",initialValue:"3",onChange:()=>h()});g.init({selector:"#guest-count-dropdown",initialValue:"1",onChange:()=>{h(),E()}});x.init({selectorId:"#impressions-cards-slider-1",isReverse:!1});x.init({selectorId:"#impressions-cards-slider-2",isReverse:!0});D.init({selectors:{swiper:"#upcoming-workations .swiper",swiperWrapper:"#upcoming-workations .swiper-wrapper",swiperSlides:"#upcoming-workations .upcoming-workation-card",prevButton:"#upcoming-workations-swiper-prev-btn",nextButton:"#upcoming-workations-swiper-next-btn"},onItemClick:e=>{let t=e.getAttribute("data-edition");window.CollectionListDropDown.setValue("#workation-season-dropdown",t)}});U.init({refContainer:"#activity-cards-swiper-ref-container",swiper:"#activity-cards-section .swiper",swiperWrapper:"#activity-cards-section .swiper-wrapper",prevButton:"#activity-cards-swiper-prev-btn",nextButton:"#activity-cards-swiper-next-btn"});N.init({swiper:"#features-cards-section .swiper",swiperWrapper:"#features-cards-section .swiper-wrapper",prevButton:"#features-cards-btn-left",nextButton:"#features-cards-btn-right"});G.init({refContainer:"#edition-cards-swiper-ref-container",swiper:"#edition-cards-section .swiper",swiperWrapper:"#edition-cards-section .swiper-wrapper",prevButton:"#edition-cards-swiper-prev-btn",nextButton:"#edition-cards-swiper-next-btn"});document.addEventListener("DOMContentLoaded",function(){k("#destination-testimonials-section"),R(),h(),b(),E(),O(),P(),H(),J()})});Z();})();
//# sourceMappingURL=bundle-destination.min.js.map
