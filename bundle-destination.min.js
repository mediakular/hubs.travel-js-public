(()=>{var p=(t,e)=>()=>(t&&(e=t(t=0)),e);var ne=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);function A(t){let e=document.querySelectorAll(`${t} .destination-testimonials-item`),n=document.querySelectorAll(`${t} .dyn-author-image`);if(!e||e.length===0){console.error("No testimonials found");return}let i=0;e.forEach(c=>c.style.display="none"),n.forEach(c=>{c.style.display="none",c.classList.remove("active")});function r(c){e.forEach((l,d)=>{l.style.display=d===c?"block":"none"}),n.forEach((l,d)=>{l.classList.toggle("active",d===c)}),i=c}let o=[...e];o.forEach((c,l)=>{let d=c.querySelector(".testimonial-card-author-image")?.src,u=document.querySelector(`${t} [data-slot="${l+1}"]`);u&&d&&(u.src=d,u.style.display="inline",l===0&&u.classList.add("active"),u.addEventListener("click",()=>{r(l)}))}),r(0);let s=document.getElementById("destination-testimonials-btn-left"),a=document.getElementById("destination-testimonials-btn-right");s&&s.addEventListener("click",()=>{let c=(i-1+o.length)%o.length;r(c)}),a&&a.addEventListener("click",()=>{let c=(i+1)%o.length;r(c)})}var T=p(()=>{});var S,R=p(()=>{S=function(){let t={};function e(r,o,s){let a=document.querySelector(r),c=document.querySelector(`${r}.w-dropdown`),l=a.querySelector(`${r} .w-dropdown-toggle`),d=a.querySelector(`${r} .w-dropdown-list`),u=a.querySelector(`${r} .dropdown-selected-value`),f=a.querySelectorAll(`${r} .dropdown-item`);if(t[r]={container:a,dropdown:c,dropdownToggle:l,dropdownList:d,selectedItemValueContainer:u,collectionItems:f,onChange:o},f.forEach(m=>{m.addEventListener("click",function(h){h.preventDefault();let w=this;n(r,w),o&&o(w),d.classList.remove("w--open"),c.blur()})}),s){let m=i(r,s);m&&setTimeout(()=>{m.click()},200)}}function n(r,o){let s=t[r];if(!s)return;let a=s.selectedItemValueContainer;for(;a.firstChild;)a.removeChild(a.firstChild);let c=o;if(c){let l=c.cloneNode(!0);a.appendChild(l);let d=c.getAttribute("data-value");s.dropdown.setAttribute("data-current-value",d)}else console.error("SelectedItem Element not found.",o)}function i(r,o){let s=t[r];return Array.from(s.collectionItems).find(a=>a.getAttribute("data-value")===o)}return{init:function({selector:r,onChange:o,initialValue:s}){document.addEventListener("DOMContentLoaded",function(){e(r,o,s)})},setValue:function(r,o){let s=i(r,o);s?s.click():o!=null&&console.error(`No item with value '${o}' found in dropdown '${r}'`)},getValue:function(r){return t[r].dropdown.getAttribute("data-current-value")}}}()});var b,W=p(()=>{b=function(){let t=null;function e({selectorId:n,isReverse:i}){if(!document.querySelector(`${n} .swiper-wrapper`))return console.error("Required elements not found"),null;let o=new Swiper(`${n}.swiper`,{spaceBetween:16,loop:!0,slidesPerView:"auto",freeMode:!0,speed:6500,autoplay:{delay:0,disableOnInteraction:!1,reverseDirection:i,pauseOnMouseEnter:!1}});return t=o,o}return{init:function({selectorId:n,isReverse:i}){document.addEventListener("DOMContentLoaded",function(){let r=document.querySelector(`${n} .swiper-wrapper`);r.style.gap="0",r.style.setProperty("transition-timing-function","linear","important"),e({selectorId:n,isReverse:i})})}}}()});var D,$=p(()=>{D=function(){let t,e,n=null,i=null;function r({onItemClick:s}){let a=document.querySelector(i.swiperWrapper),c=document.querySelectorAll(i.swiperSlides);if(e=document.querySelector(i.prevButton),n=document.querySelector(i.nextButton),!a||!e||!n||!c)return console.error("Required elements not found"),null;let l=new Swiper(i.swiper,{direction:"vertical",slidesPerView:"auto",spaceBetween:8,freeMode:!1,navigation:{nextEl:i.nextButton,prevEl:i.prevButton},watchOverflow:!0});return t=l,o(),l.on("slideChange",function(){o()}),s&&c.forEach(d=>{d.addEventListener("click",u=>s(u.currentTarget))}),l}function o(){!e||!n||(e.style.opacity=t.isBeginning?"0.5":"1",e.style.pointerEvents=t.isBeginning?"none":"auto",n.style.opacity=t.isEnd?"0.5":"1",n.style.pointerEvents=t.isEnd?"none":"auto")}return{init:function({selectors:s,onItemClick:a}){i=s,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(i.swiperWrapper);c.style.gap="0",r({onItemClick:a})})}}}()});function k(t){let e=document.querySelectorAll(".room-price-data"),n=Array.from(e).map(i=>JSON.parse(i.textContent));return t?n.filter(i=>i.editionSlug===t):n}function g(t,e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:e,currencyDisplay:"code"}).format(t)}function I(t,e=null){return isNaN(parseFloat(t))?e:parseFloat(t)}var M=p(()=>{});function E(){let t=CollectionListDropDown.getValue("#workation-season-dropdown"),e=CollectionListDropDown.getValue("#length-stay-dropdown"),n=document.querySelector("#rooms")?.getAttribute("data-currency")??"EUR",i=document.querySelectorAll(".room-list-item"),r=t?k(t):[];i.forEach(o=>{let s=o.getAttribute("data-roomslug"),a=o.getAttribute("data-allow-weekly-booking")==="Enabled",c=r.find(l=>l.roomSlug===s);oe(o,c,e,n,a)})}function oe(t,e,n,i,r){let o=t.querySelector(".room-item-price-breakdown"),s=t.querySelector(".room-item-price-month"),a=t.querySelector(".room-discount-text"),c=t.querySelector(".room-book-button"),l=t.querySelector(".room-item-price-not-avalable"),d=n&&n.startsWith("week"),u=l.innerText,f="Minimum length of stay for this room is 1 month",m=I(e?.basePriceWeek);if(!e||d&&!r||d&&r&&!m){l.innerText=d&&!r?f:u,l.style.display="flex",o.style.display="none",s.style.display="none",a.parentElement.style.display="none",c.style.opacity="0.5",c.style.pointerEvents="none",c.style.cursor="not-allowed";return}l.style.display="none",s.style.display="block",a.parentElement.style.display="flex",c.style.opacity="1",c.style.pointerEvents="auto",c.style.cursor="pointer";let h=e.basePriceMonth,w=e.discountMonth2,B=e.discountMonth3,q=h*(1-w/100),ee=h*(1-B/100),y=m?g(m,i):"N/A",C=g(h,i),te=!n||n.endsWith("-1");switch(o.style.display=te?"none":"inline",n){case"week-1":s.innerText=`${y} / week`,a.innerText="Longer stays unlock better discounts!";break;case"week-2":o.innerText=`1st week: ${y}`,s.innerText=`${y} - 2nd week`,a.innerText="Longer stays unlock better discounts!";break;case"week-3":o.innerHTML=`
        	1st week: ${y}<br>
          2nd week: ${y}`,s.innerText=`${y} - 3rd week`,a.innerText="Longer stays unlock better discounts!";break;default:case"month-1":s.innerText=`${C} / month`,a.innerText="Longer stays unlock better discounts!";break;case"month-2":o.innerText=`1st month: ${C}`,s.innerText=`${g(q,i)} - 2nd month`,a.parentElement.style.display=w==0?"none":"block",a.innerText=`${w.toFixed(1)}% discount for the 2nd month!`;break;case"month-3":o.innerHTML=`
        	1st month: ${C}<br>
          2nd month: ${g(q,i)}`,s.innerText=`${g(ee,i)} - 3rd month`,a.parentElement.style.display=B==0?"none":"block",a.innerText=`${B.toFixed(1)}% discount for the 3rd month!`;break}}function L(t){let e=document.querySelectorAll(".dropdown-discount-2-months"),n=document.querySelectorAll(".dropdown-discount-3-months"),i=k(t),r=i.map(s=>s.discountMonth2),o=i.map(s=>s.discountMonth3);e.forEach(s=>{O(s,r)}),n.forEach(s=>{O(s,o)})}function O(t,e){if(!e||e.length===0){t.style.display="none";return}t.style.display="flex";let n=e.every(r=>r===e[0]),i=Math.max(...e);i==0?t.innerText="":t.innerText=`${i.toFixed(1)}% discount`,n||(t.innerText="Up to "+t.innerText)}function x(){let t=document.querySelectorAll(".room-book-button"),e=document.querySelector("#rooms")?.getAttribute("data-destination-slug");t.forEach(n=>{let i=n.querySelector("a"),r=i.getAttribute("href").split("?")[0],o=n.getAttribute("data-roomslug"),s=CollectionListDropDown.getValue("#workation-season-dropdown"),a=CollectionListDropDown.getValue("#guest-count-dropdown")??1;i.setAttribute("href",`${r}?destination=${encodeURIComponent(e)}&edition=${encodeURIComponent(s)}&room=${encodeURIComponent(o)}&guests=${encodeURIComponent(a)}`)})}function P(){let t=new URLSearchParams(window.location.search).get("edition"),e=document.querySelectorAll("#workation-season-dropdown .dropdown-item"),n=t??(e.length>0?e[0].getAttribute("data-value"):null);CollectionListDropDown.setValue("#workation-season-dropdown",n)}var U=p(()=>{M()});function V(){let t=document.getElementById("map-data").dataset.address;if(!t)return;new google.maps.Geocoder().geocode({address:t},function(n,i){if(i==="OK"){let r=new google.maps.Map(document.getElementById("map"),{zoom:14,center:n[0].geometry.location});new google.maps.Marker({map:r,position:n[0].geometry.location})}else console.error("Geocode failed: "+i)})}var F=p(()=>{});function N(){document.querySelectorAll("#upcoming-workations .swiper-slide").forEach(t=>{let e=t.getAttribute("data-booking-state")?.toLowerCase();e==="closed"?(t.style.opacity="0.5",t.style.pointerEvents="none",t.style.cursor="not-allowed"):e==="available soon"&&(t.style.pointerEvents="none",t.style.cursor="default")})}var H=p(()=>{});var v,z=p(()=>{v=class{constructor(e){this.SELECTORS=e,this.swiperInstance=null,this.prevButton=null,this.nextButton=null}init(){document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(this.SELECTORS.swiperWrapper);e.style.gap="0",this.initSwiper()})}initSwiper(){let e=document.querySelector(this.SELECTORS.refContainer),n=document.querySelector(this.SELECTORS.swiperWrapper);if(this.prevButton=document.querySelector(this.SELECTORS.prevButton),this.nextButton=document.querySelector(this.SELECTORS.nextButton),!e||!n||!this.prevButton||!this.nextButton)return console.error("Required elements not found"),null;let r=e.getBoundingClientRect().left,o=new Swiper(this.SELECTORS.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:r,slidesOffsetAfter:16,navigation:{nextEl:this.SELECTORS.nextButton,prevEl:this.SELECTORS.prevButton},watchOverflow:!0});return this.swiperInstance=o,this.updateButtonsState(),o.on("slideChange",this.updateButtonsState.bind(this)),window.addEventListener("resize",()=>{let s=e.getBoundingClientRect().left;o&&o.params&&(o.params.slidesOffsetBefore=s,o.update())}),o}updateButtonsState(){if(!this.prevButton||!this.nextButton)return;this.prevButton.style.opacity=this.swiperInstance.isBeginning?"0.5":"1",this.prevButton.style.pointerEvents=this.swiperInstance.isBeginning?"none":"auto";let e=this.swiperInstance.maxTranslate();this.swiperInstance.translate<=e+5?(this.nextButton.style.opacity="0.5",this.nextButton.style.pointerEvents="none"):(this.nextButton.style.opacity="1",this.nextButton.style.pointerEvents="auto")}}});var G,K=p(()=>{G=function(){let t,e,n=null,i=null;function r(){let s=document.querySelector(i.swiperWrapper);if(e=document.querySelector(i.prevButton),n=document.querySelector(i.nextButton),!s||!e||!n)return console.error("Required elements not found"),null;let a=new Swiper(i.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetAfter:16,navigation:{nextEl:i.nextButton,prevEl:i.prevButton},watchOverflow:!0});t=a,o(),a.on("slideChange",function(){o()});function c(){let d=s.getBoundingClientRect().left,u=document.querySelector("#features-cards-section .features-cards-carousel-container");u.style.width=`${window.innerWidth-d}px`,u.style.minWidth=`${window.innerWidth-d}px`,u.style.maxWidth=`${window.innerWidth-d}px`,s.style.width=`${window.innerWidth-d}px`,s.style.minWidth=`${window.innerWidth-d}px`,s.style.maxWidth=`${window.innerWidth-d}px`}return window.addEventListener("resize",c),c(),a}function o(){!e||!n||(e.style.opacity=t.isBeginning?"0.5":"1",e.style.pointerEvents=t.isBeginning?"none":"auto",n.style.opacity=t.isEnd?"0.5":"1",n.style.pointerEvents=t.isEnd?"none":"auto")}return{init:function(s){i=s,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(i.swiperWrapper);a.style.gap="0",r()})}}}()});function J(){document.querySelectorAll("#edition-cards-section .edition-card-item").forEach(e=>{let n=e.querySelectorAll("a"),i=e.getAttribute("data-editionslug"),r=e.getAttribute("data-bookingstate");n.forEach(o=>{if(r=="Available Soon"){o.setAttribute("href","#"),o.style.cursor="auto";let s=o.querySelector(".edition-card-image");s.style.opacity=.4}else if(i){let s=o.getAttribute("href").split("?")[0];o.setAttribute("href",`${s}?edition=${encodeURIComponent(i)}`)}})})}var j,Q=p(()=>{j=function(){let t,e,n=null,i=[],r=null;function o(){let a=document.querySelector(r.refContainer),c=document.querySelector(r.swiperWrapper);if(e=document.querySelector(r.prevButton),n=document.querySelector(r.nextButton),i=Array.from(document.querySelectorAll("#edition-cards-section .swiper .swiper-slide")),!a||!c||!e||!n)return console.error("Required elements not found"),null;let d=a.getBoundingClientRect().left,u=new Swiper(r.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:d,slidesOffsetAfter:16,navigation:{nextEl:r.nextButton,prevEl:r.prevButton},watchOverflow:!0});return t=u,s(),u.on("slideChange",s),window.addEventListener("resize",()=>{let f=a.getBoundingClientRect().left;u&&u.params&&(u.params.slidesOffsetBefore=f,u.update())}),u}function s(){if(!e||!n)return;e.style.opacity=t.isBeginning?"0.5":"1",e.style.pointerEvents=t.isBeginning?"none":"auto";let a=t.maxTranslate();t.translate<=a+5?(n.style.opacity="0.5",n.style.pointerEvents="none"):(n.style.opacity="1",n.style.pointerEvents="auto")}return{init:function(a){r=a,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(r.swiperWrapper);c.style.gap="0",o()})},filterSeason(a){if(!t)return;let c=i.filter(l=>a==="all"||a===l.getAttribute("data-season"));t.removeAllSlides(),t.addSlide(0,c),t.slideTo(0,0,!1),s()}}}()});function X(){let t=document.querySelectorAll(".filter-button"),e=document.querySelectorAll(".filter-list-item");t.forEach(i=>{i.addEventListener("click",function(){t.forEach(o=>o.classList.remove("active")),this.classList.add("active");let r=this.getAttribute("data-season");r==="all"?e.forEach(o=>{o.classList.remove("filtered-out")}):e.forEach(o=>{o.getAttribute("data-season")===r?o.classList.remove("filtered-out"):o.classList.add("filtered-out")})})});let n=document.querySelector('[data-season="all"]');n&&n.click()}var Y=p(()=>{});function Z(){function t(e){let n=document.createElement("a");return n.href="#",n.textContent=e?"Read more":"Read less",n.style.display="inline-block",n.style.color="#0a4915",n.style.fontWeight="600",n}document.querySelectorAll("[data-read-more]").forEach(e=>{let n=parseInt(e.getAttribute("data-read-more"),10);if(isNaN(n)||e.scrollHeight<=n)return;e.style.maxHeight=n+"px",e.style.overflow="hidden",e.dataset.readMoreState="collapsed";let i=t(!0);e.insertAdjacentElement("afterend",i),i.addEventListener("click",function(r){r.preventDefault(),e.dataset.readMoreState==="collapsed"?(e.style.maxHeight=e.scrollHeight+"px",e.dataset.readMoreState="expanded",this.textContent="Read less"):(e.style.maxHeight=n+"px",e.dataset.readMoreState="collapsed",this.textContent="Read more")})})}var _=p(()=>{});var se=ne(()=>{T();R();W();$();U();F();H();z();K();Q();Y();_();window.CollectionListDropDown=S;S.init({selector:"#workation-season-dropdown",onChange:t=>{let e=t.getAttribute("data-value");L(e),E(),x()}});S.init({selector:"#length-stay-dropdown",initialValue:"month-3",onChange:()=>E()});S.init({selector:"#guest-count-dropdown",initialValue:"1",onChange:()=>{E(),x()}});b.init({selectorId:"#impressions-cards-slider-1",isReverse:!1});b.init({selectorId:"#impressions-cards-slider-2",isReverse:!0});D.init({selectors:{swiper:"#upcoming-workations .swiper",swiperWrapper:"#upcoming-workations .swiper-wrapper",swiperSlides:"#upcoming-workations .upcoming-workation-card",prevButton:"#upcoming-workations-swiper-prev-btn",nextButton:"#upcoming-workations-swiper-next-btn"},onItemClick:t=>{let e=t.getAttribute("data-edition");window.CollectionListDropDown.setValue("#workation-season-dropdown",e)}});var re=new v({refContainer:"#activity-cards-swiper-ref-container",swiper:"#activity-cards-section .swiper",swiperWrapper:"#activity-cards-section .swiper-wrapper",prevButton:"#activity-cards-swiper-prev-btn",nextButton:"#activity-cards-swiper-next-btn"});re.init();var ie=new v({refContainer:"#common-facilities-cards-swiper-ref-container",swiper:"#common-facilities-cards-section .swiper",swiperWrapper:"#common-facilities-cards-section .swiper-wrapper",prevButton:"#common-facilities-cards-swiper-prev-btn",nextButton:"#common-facilities-cards-swiper-next-btn"});ie.init();G.init({swiper:"#features-cards-section .swiper",swiperWrapper:"#features-cards-section .swiper-wrapper",prevButton:"#features-cards-btn-left",nextButton:"#features-cards-btn-right"});j.init({refContainer:"#edition-cards-swiper-ref-container",swiper:"#edition-cards-section .swiper",swiperWrapper:"#edition-cards-section .swiper-wrapper",prevButton:"#edition-cards-swiper-prev-btn",nextButton:"#edition-cards-swiper-next-btn"});document.addEventListener("DOMContentLoaded",function(){A("#destination-testimonials-section"),P(),E(),L(),x(),V(),N(),J(),X(),Z()})});se();})();
//# sourceMappingURL=bundle-destination.min.js.map
