(()=>{var p=(e,t)=>()=>(e&&(t=e(e=0)),t);var J=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);function x(e){let t=document.querySelectorAll(`${e} .destination-testimonials-item`),r=document.querySelectorAll(`${e} .dyn-author-image`);if(!t||t.length===0){console.error("No testimonials found");return}let n=0;t.forEach(l=>l.style.display="none"),r.forEach(l=>{l.style.display="none",l.classList.remove("active")});function o(l){t.forEach((d,a)=>{d.style.display=a===l?"block":"none"}),r.forEach((d,a)=>{d.classList.toggle("active",a===l)}),n=l}let s=[...t];s.forEach((l,d)=>{let a=l.querySelector(".testimonial-card-author-image")?.src,u=document.querySelector(`${e} [data-slot="${d+1}"]`);u&&a&&(u.src=a,u.style.display="inline",d===0&&u.classList.add("active"),u.addEventListener("click",()=>{o(d)}))}),o(0);let i=document.getElementById("destination-testimonials-btn-left"),c=document.getElementById("destination-testimonials-btn-right");i&&i.addEventListener("click",()=>{let l=(n-1+s.length)%s.length;o(l)}),c&&c.addEventListener("click",()=>{let l=(n+1)%s.length;o(l)})}var b=p(()=>{});var y,q=p(()=>{y=function(){let e={};function t(o,s,i){let c=document.querySelector(o),l=document.querySelector(`${o}.w-dropdown`),d=c.querySelector(`${o} .w-dropdown-toggle`),a=c.querySelector(`${o} .w-dropdown-list`),u=c.querySelector(`${o} .dropdown-selected-value`),f=c.querySelectorAll(`${o} .dropdown-item`);if(e[o]={container:c,dropdown:l,dropdownToggle:d,dropdownList:a,selectedItemValueContainer:u,collectionItems:f,onChange:s},f.forEach(m=>{m.addEventListener("click",function(E){E.preventDefault();let C=this;r(o,C),s&&s(C),a.classList.remove("w--open"),l.blur()})}),i){let m=n(o,i);m&&setTimeout(()=>{m.click()},200)}}function r(o,s){let i=e[o];if(!i)return;let c=i.selectedItemValueContainer;for(;c.firstChild;)c.removeChild(c.firstChild);let l=s;if(l){let d=l.cloneNode(!0);c.appendChild(d);let a=l.getAttribute("data-value");i.dropdown.setAttribute("data-current-value",a)}else console.error("SelectedItem Element not found.",s)}function n(o,s){let i=e[o];return Array.from(i.collectionItems).find(c=>c.getAttribute("data-value")===s)}return{init:function({selector:o,onChange:s,initialValue:i}){document.addEventListener("DOMContentLoaded",function(){t(o,s,i)})},setValue:function(o,s){let i=n(o,s);i?i.click():s!=null&&console.error(`No item with value '${s}' found in dropdown '${o}'`)},getValue:function(o){return e[o].dropdown.getAttribute("data-current-value")}}}()});var h,L=p(()=>{h=function(){let e=null;function t({selectorId:r,isReverse:n}){if(!document.querySelector(`${r} .swiper-wrapper`))return console.error("Required elements not found"),null;let s=new Swiper(`${r}.swiper`,{spaceBetween:16,loop:!0,slidesPerView:"auto",freeMode:!0,speed:6500,autoplay:{delay:0,disableOnInteraction:!1,reverseDirection:n,pauseOnMouseEnter:!1}});return e=s,s}return{init:function({selectorId:r,isReverse:n}){document.addEventListener("DOMContentLoaded",function(){let o=document.querySelector(`${r} .swiper-wrapper`);o.style.gap="0",o.style.setProperty("transition-timing-function","linear","important"),t({selectorId:r,isReverse:n})})}}}()});var A,k=p(()=>{A=function(){let e,t,r=null,n=null;function o({onItemClick:i}){let c=document.querySelector(n.swiperWrapper),l=document.querySelectorAll(n.swiperSlides);if(t=document.querySelector(n.prevButton),r=document.querySelector(n.nextButton),!c||!t||!r||!l)return console.error("Required elements not found"),null;let d=new Swiper(n.swiper,{direction:"vertical",slidesPerView:"auto",spaceBetween:8,freeMode:!1,navigation:{nextEl:n.nextButton,prevEl:n.prevButton},watchOverflow:!0});return e=d,s(),d.on("slideChange",function(){s()}),i&&l.forEach(a=>{a.addEventListener("click",u=>i(u.currentTarget))}),d}function s(){!t||!r||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",r.style.opacity=e.isEnd?"0.5":"1",r.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function({selectors:i,onItemClick:c}){n=i,document.addEventListener("DOMContentLoaded",function(){let l=document.querySelector(n.swiperWrapper);l.style.gap="0",o({onItemClick:c})})}}}()});function v(e){let t=document.querySelectorAll(".room-price-data"),r=Array.from(t).map(n=>JSON.parse(n.textContent));return e?r.filter(n=>n.editionSlug===e):r}function w(e,t){return new Intl.NumberFormat("de-DE",{style:"currency",currency:t,currencyDisplay:"code"}).format(e)}var D=p(()=>{});function g(){let e=CollectionListDropDown.getValue("#workation-season-dropdown"),t=parseInt(CollectionListDropDown.getValue("#length-stay-dropdown")),r=parseInt(CollectionListDropDown.getValue("#guest-count-dropdown")),n=document.querySelector("#rooms")?.getAttribute("data-currency")??"EUR",o=document.querySelectorAll(".room-list-item"),s=e?v(e):[];o.forEach(i=>{let c=i.getAttribute("data-roomslug"),l=s.find(d=>d.roomSlug===c);Q(i,l,t,r,n)})}function Q(e,t,r,n,o){let s=e.querySelector(".room-item-price-breakdown"),i=e.querySelector(".room-item-price-month"),c=e.querySelector(".room-discount-text"),l=e.querySelector(".room-book-button"),d=e.querySelector(".room-item-price-not-avalable");if(!t){d.style.display="flex",s.style.display="none",i.style.display="none",c.parentElement.style.display="none",l.style.opacity="0.5",l.style.pointerEvents="none",l.style.cursor="not-allowed";return}d.style.display="none",i.style.display="block",c.parentElement.style.display="flex",l.style.opacity="1",l.style.pointerEvents="auto",l.style.cursor="pointer";let a=t.basePrice*n;if(!r||r===1)s.style.display="none",i.innerText=`${w(a,o)} / month`,c.innerText="Longer stays unlock better discounts!";else if(r>1){s.style.display="inline";let u=t.discountMonth2,f=t.discountMonth3,m=a*(1-u/100);if(s.innerText=`1st month: ${w(a,o)}`,r==2)i.innerText=`${w(m,o)} - 2nd month`,c.parentElement.style.display=u==0?"none":"block",c.innerText=`${u.toFixed(1)}% discount for the 2nd month!`;else{let E=a*(1-f/100);s.innerHTML=`
        	${s.innerText}<br>
          2nd month: ${w(m,o)}`,i.innerText=`${w(E,o)} - 3rd month`,c.parentElement.style.display=f==0?"none":"block",c.innerText=`${f.toFixed(1)}% discount for the 3rd month!`}}}function B(e){let t=document.querySelectorAll(".dropdown-discount-2-months"),r=document.querySelectorAll(".dropdown-discount-3-months"),n=v(e),o=n.map(i=>i.discountMonth2),s=n.map(i=>i.discountMonth3);t.forEach(i=>{W(i,o)}),r.forEach(i=>{W(i,s)})}function W(e,t){if(!t||t.length===0){e.style.display="none";return}e.style.display="flex";let r=t.every(o=>o===t[0]),n=Math.min(...t);n==0?e.innerText="":e.innerText=`${n.toFixed(1)}% discount`,r||(e.innerText="From "+e.innerText)}function S(){let e=document.querySelectorAll(".room-book-button"),t=document.querySelector("#rooms")?.getAttribute("data-destination-slug");e.forEach(r=>{let n=r.querySelector("a"),o=n.getAttribute("href").split("?")[0],s=r.getAttribute("data-roomslug"),i=CollectionListDropDown.getValue("#workation-season-dropdown"),c=CollectionListDropDown.getValue("#guest-count-dropdown")??1;n.setAttribute("href",`${o}?destination=${encodeURIComponent(t)}&edition=${encodeURIComponent(i)}&room=${encodeURIComponent(s)}&guests=${encodeURIComponent(c)}`)})}function R(){let e=new URLSearchParams(window.location.search).get("edition"),t=document.querySelectorAll("#workation-season-dropdown .dropdown-item"),r=e??(t.length>0?t[0].getAttribute("data-value"):null);CollectionListDropDown.setValue("#workation-season-dropdown",r)}var $=p(()=>{D()});function I(){let e=document.getElementById("map-data").dataset.address;if(!e)return;new google.maps.Geocoder().geocode({address:e},function(r,n){if(n==="OK"){let o=new google.maps.Map(document.getElementById("map"),{zoom:14,center:r[0].geometry.location});new google.maps.Marker({map:o,position:r[0].geometry.location})}else console.error("Geocode failed: "+n)})}var T=p(()=>{});function O(){document.querySelectorAll("#upcoming-workations .swiper-slide").forEach(e=>{let t=e.getAttribute("data-booking-state")?.toLowerCase();t==="closed"?(e.style.opacity="0.5",e.style.pointerEvents="none",e.style.cursor="not-allowed"):t==="available soon"&&(e.style.pointerEvents="none",e.style.cursor="default")})}var M=p(()=>{});var V,U=p(()=>{V=function(){let e,t,r=null,n=null;function o(){let i=document.querySelector(n.refContainer),c=document.querySelector(n.swiperWrapper);if(t=document.querySelector(n.prevButton),r=document.querySelector(n.nextButton),!i||!c||!t||!r)return console.error("Required elements not found"),null;let d=i.getBoundingClientRect().left,a=new Swiper(n.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:d,slidesOffsetAfter:16,navigation:{nextEl:n.nextButton,prevEl:n.prevButton},watchOverflow:!0});return e=a,s(),a.on("slideChange",s),window.addEventListener("resize",()=>{let u=i.getBoundingClientRect().left;a&&a.params&&(a.params.slidesOffsetBefore=u,a.update())}),a}function s(){if(!t||!r)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let i=e.maxTranslate();e.translate<=i+5?(r.style.opacity="0.5",r.style.pointerEvents="none"):(r.style.opacity="1",r.style.pointerEvents="auto")}return{init:function(i){n=i,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(n.swiperWrapper);c.style.gap="0",o()})}}}()});var P,F=p(()=>{P=function(){let e,t,r=null,n=null;function o(){let i=document.querySelector(n.swiperWrapper);if(t=document.querySelector(n.prevButton),r=document.querySelector(n.nextButton),!i||!t||!r)return console.error("Required elements not found"),null;let c=new Swiper(n.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetAfter:16,navigation:{nextEl:n.nextButton,prevEl:n.prevButton},watchOverflow:!0});e=c,s(),c.on("slideChange",function(){s()});function l(){let a=i.getBoundingClientRect().left,u=document.querySelector("#features-cards-section .features-cards-carousel-container");u.style.width=`${window.innerWidth-a}px`,u.style.minWidth=`${window.innerWidth-a}px`,u.style.maxWidth=`${window.innerWidth-a}px`,i.style.width=`${window.innerWidth-a}px`,i.style.minWidth=`${window.innerWidth-a}px`,i.style.maxWidth=`${window.innerWidth-a}px`}return window.addEventListener("resize",l),l(),c}function s(){!t||!r||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",r.style.opacity=e.isEnd?"0.5":"1",r.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function(i){n=i,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(n.swiperWrapper);c.style.gap="0",o()})}}}()});function z(){document.querySelectorAll("#edition-cards-section .edition-card-item").forEach(t=>{let r=t.querySelectorAll("a"),n=t.getAttribute("data-editionslug"),o=t.getAttribute("data-bookingstate");r.forEach(s=>{if(o=="Available Soon"){s.setAttribute("href","#"),s.style.cursor="auto";let i=s.querySelector(".edition-card-image");i.style.opacity=.4}else if(n){let i=s.getAttribute("href").split("?")[0];s.setAttribute("href",`${i}?edition=${encodeURIComponent(n)}`)}})})}var N,G=p(()=>{N=function(){let e,t,r=null,n=[],o=null;function s(){let c=document.querySelector(o.refContainer),l=document.querySelector(o.swiperWrapper);if(t=document.querySelector(o.prevButton),r=document.querySelector(o.nextButton),n=Array.from(document.querySelectorAll("#edition-cards-section .swiper .swiper-slide")),!c||!l||!t||!r)return console.error("Required elements not found"),null;let a=c.getBoundingClientRect().left,u=new Swiper(o.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:a,slidesOffsetAfter:16,navigation:{nextEl:o.nextButton,prevEl:o.prevButton},watchOverflow:!0});return e=u,i(),u.on("slideChange",i),window.addEventListener("resize",()=>{let f=c.getBoundingClientRect().left;u&&u.params&&(u.params.slidesOffsetBefore=f,u.update())}),u}function i(){if(!t||!r)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let c=e.maxTranslate();e.translate<=c+5?(r.style.opacity="0.5",r.style.pointerEvents="none"):(r.style.opacity="1",r.style.pointerEvents="auto")}return{init:function(c){o=c,document.addEventListener("DOMContentLoaded",function(){let l=document.querySelector(o.swiperWrapper);l.style.gap="0",s()})},filterSeason(c){if(!e)return;let l=n.filter(d=>c==="all"||c===d.getAttribute("data-season"));e.removeAllSlides(),e.addSlide(0,l),e.slideTo(0,0,!1),i()}}}()});function K(){let e=document.querySelectorAll(".filter-button"),t=document.querySelectorAll(".filter-list-item");e.forEach(n=>{n.addEventListener("click",function(){e.forEach(s=>s.classList.remove("active")),this.classList.add("active");let o=this.getAttribute("data-season");o==="all"?t.forEach(s=>{s.classList.remove("filtered-out")}):t.forEach(s=>{s.getAttribute("data-season")===o?s.classList.remove("filtered-out"):s.classList.add("filtered-out")})})});let r=document.querySelector('[data-season="all"]');r&&r.click()}var H=p(()=>{});var j=J(()=>{b();q();L();k();$();T();M();U();F();G();H();window.CollectionListDropDown=y;y.init({selector:"#workation-season-dropdown",onChange:e=>{let t=e.getAttribute("data-value");B(t),g(),S()}});y.init({selector:"#length-stay-dropdown",initialValue:"3",onChange:()=>g()});y.init({selector:"#guest-count-dropdown",initialValue:"1",onChange:()=>{g(),S()}});h.init({selectorId:"#impressions-cards-slider-1",isReverse:!1});h.init({selectorId:"#impressions-cards-slider-2",isReverse:!0});A.init({selectors:{swiper:"#upcoming-workations .swiper",swiperWrapper:"#upcoming-workations .swiper-wrapper",swiperSlides:"#upcoming-workations .upcoming-workation-card",prevButton:"#upcoming-workations-swiper-prev-btn",nextButton:"#upcoming-workations-swiper-next-btn"},onItemClick:e=>{let t=e.getAttribute("data-edition");window.CollectionListDropDown.setValue("#workation-season-dropdown",t)}});V.init({refContainer:"#activity-cards-swiper-ref-container",swiper:"#activity-cards-section .swiper",swiperWrapper:"#activity-cards-section .swiper-wrapper",prevButton:"#activity-cards-swiper-prev-btn",nextButton:"#activity-cards-swiper-next-btn"});P.init({swiper:"#features-cards-section .swiper",swiperWrapper:"#features-cards-section .swiper-wrapper",prevButton:"#features-cards-btn-left",nextButton:"#features-cards-btn-right"});N.init({refContainer:"#edition-cards-swiper-ref-container",swiper:"#edition-cards-section .swiper",swiperWrapper:"#edition-cards-section .swiper-wrapper",prevButton:"#edition-cards-swiper-prev-btn",nextButton:"#edition-cards-swiper-next-btn"});document.addEventListener("DOMContentLoaded",function(){x("#destination-testimonials-section"),R(),g(),B(),S(),I(),O(),z(),K()})});j();})();
//# sourceMappingURL=bundle-destination.min.js.map
