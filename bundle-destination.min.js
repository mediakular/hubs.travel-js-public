(()=>{function O(t){let e=document.querySelectorAll(`${t} .destination-testimonials-item`),n=document.querySelectorAll(`${t} .dyn-author-image`);if(!e||e.length===0)return;let o=0;e.forEach(a=>a.style.display="none"),n.forEach(a=>{a.style.display="none",a.classList.remove("active")});function i(a){e.forEach((d,l)=>{d.style.display=l===a?"block":"none"}),n.forEach((d,l)=>{d.classList.toggle("active",l===a)}),o=a}let r=[...e];r.forEach((a,d)=>{let l=a.querySelector(".testimonial-card-author-image")?.src,u=document.querySelector(`${t} [data-slot="${d+1}"]`);u&&l&&(u.src=l,u.style.display="inline",d===0&&u.classList.add("active"),u.addEventListener("click",()=>{i(d)}))}),i(0);let s=document.getElementById("destination-testimonials-btn-left"),c=document.getElementById("destination-testimonials-btn-right");s&&s.addEventListener("click",()=>{let a=(o-1+r.length)%r.length;i(a)}),c&&c.addEventListener("click",()=>{let a=(o+1)%r.length;i(a)})}var B=function(){let t={};function e(i,r,s){let c=document.querySelector(i),a=document.querySelector(`${i}.w-dropdown`),d=c.querySelector(`${i} .w-dropdown-toggle`),l=c.querySelector(`${i} .w-dropdown-list`),u=c.querySelector(`${i} .dropdown-selected-value`),L=c.querySelectorAll(`${i} .dropdown-item`);if(t[i]={container:c,dropdown:a,dropdownToggle:d,dropdownList:l,selectedItemValueContainer:u,collectionItems:L,onChange:r},L.forEach(x=>{x.addEventListener("click",function(f){f.preventDefault();let g=this;n(i,g),r&&r(g),l.classList.remove("w--open"),a.blur()})}),s){let x=o(i,s);x&&setTimeout(()=>{x.click()},200)}}function n(i,r){let s=t[i];if(!s)return;let c=s.selectedItemValueContainer;for(;c.firstChild;)c.removeChild(c.firstChild);let a=r;if(a){let d=a.cloneNode(!0);c.appendChild(d);let l=a.getAttribute("data-value");s.dropdown.setAttribute("data-current-value",l)}else console.error("SelectedItem Element not found.",r)}function o(i,r){let s=t[i];return Array.from(s.collectionItems).find(c=>c.getAttribute("data-value")===r)}return{init:function({selector:i,onChange:r,initialValue:s}){document.addEventListener("DOMContentLoaded",function(){e(i,r,s)})},setValue:function(i,r){let s=o(i,r);s?s.click():r!=null&&console.error(`No item with value '${r}' found in dropdown '${i}'`)},getValue:function(i){return t[i].dropdown.getAttribute("data-current-value")}}}();var A=function(){let t=null;function e({selectorId:n,isReverse:o}){if(!document.querySelector(`${n} .swiper-wrapper`))return console.error("Required elements not found"),null;let r=new Swiper(`${n}.swiper`,{spaceBetween:16,loop:!0,slidesPerView:"auto",freeMode:!0,speed:6500,autoplay:{delay:0,disableOnInteraction:!1,reverseDirection:o,pauseOnMouseEnter:!1}});return t=r,r}return{init:function({selectorId:n,isReverse:o}){document.addEventListener("DOMContentLoaded",function(){let i=document.querySelector(`${n} .swiper-wrapper`);i.style.gap="0",i.style.setProperty("transition-timing-function","linear","important"),e({selectorId:n,isReverse:o})})}}}();var V=function(){let t,e,n=null,o=null;function i({onItemClick:s}){let c=document.querySelector(o.swiperWrapper),a=document.querySelectorAll(o.swiperSlides);if(e=document.querySelector(o.prevButton),n=document.querySelector(o.nextButton),!c||!e||!n||!a)return console.error("Required elements not found"),null;let d=new Swiper(o.swiper,{direction:"vertical",slidesPerView:"auto",spaceBetween:8,freeMode:!1,navigation:{nextEl:o.nextButton,prevEl:o.prevButton},watchOverflow:!0});return t=d,r(),d.on("slideChange",function(){r()}),s&&a.forEach(l=>{l.addEventListener("click",u=>s(u.currentTarget))}),d}function r(){!e||!n||(e.style.opacity=t.isBeginning?"0.5":"1",e.style.pointerEvents=t.isBeginning?"none":"auto",n.style.opacity=t.isEnd?"0.5":"1",n.style.pointerEvents=t.isEnd?"none":"auto")}return{init:function({selectors:s,onItemClick:c}){o=s,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(o.swiperWrapper);a.style.gap="0",i({onItemClick:c})})}}}();function T(t){let e=document.querySelectorAll(".room-price-data"),n=Array.from(e).map(o=>JSON.parse(o.textContent));return t?n.filter(o=>o.editionSlug===t):n}function m(t,e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:e,currencyDisplay:"code"}).format(t)}function I(t,e=null){return isNaN(parseFloat(t))?e:parseFloat(t)}function b(){let t=CollectionListDropDown.getValue("#workation-season-dropdown"),e=CollectionListDropDown.getValue("#length-stay-dropdown"),n=parseInt(CollectionListDropDown.getValue("#guest-count-dropdown"))||1,o=document.querySelector("#rooms")?.getAttribute("data-currency")??"EUR",i=document.querySelectorAll(".room-list-item"),r=t?T(t):[];i.forEach(s=>{let c=s.getAttribute("data-roomslug"),a=s.getAttribute("data-allow-weekly-booking")==="Enabled",d=r.find(l=>l.roomSlug===c);Y(s,d,e,o,a,n)})}function Y(t,e,n,o,i,r){let s=t.querySelector(".room-item-price-breakdown"),c=t.querySelector(".room-item-price-month"),a=t.querySelector(".room-discount-text"),d=t.querySelector(".room-book-button"),l=t.querySelector(".room-item-price-not-avalable"),u=n&&n.startsWith("week"),L=l.innerText,x="Minimum length of stay for this room is 1 month",f=I(e?.basePriceWeek);if(!e||u&&!i||u&&i&&!f){l.innerText=u&&!i?x:L,l.style.display="flex",s.style.display="none",c.style.display="none",a.parentElement.style.display="none",d.style.opacity="0.5",d.style.pointerEvents="none",d.style.cursor="not-allowed";return}l.style.display="none",c.style.display="block",a.parentElement.style.display="flex",d.style.opacity="1",d.style.pointerEvents="auto",d.style.cursor="pointer";let g=e.basePriceMonth,C=e.discountMonth2,q=e.discountMonth3,P=g*(1-C/100),J=g*(1-q/100),h=I(e.surcharge2ndPerson,0),y=r===2&&h>0,te=f?m(f,o):"N/A",ne=m(g,o),K=!n||n.endsWith("-1");switch(s.style.display=K?"none":"inline",n){case"week-1":{let p=f;if(y){let w=h/30*7;p+=w}c.innerText=`${m(p,o)} / week`,a.innerText="Longer stays unlock better discounts!";break}case"week-2":{let p=f,w=(y?h/30:0)*7;p+=w;let S=f+w,E=m(S,o);s.innerText=`1st week: ${E}`,c.innerText=`${m(p,o)} - 2nd week`,a.innerText="Longer stays unlock better discounts!";break}case"week-3":{let p=f,w=(y?h/30:0)*7;p+=w;let S=f+w,E=m(S,o),W=m(S,o);s.innerHTML=`
        	1st week: ${E}<br>
          2nd week: ${W}`,c.innerText=`${m(p,o)} - 3rd week`,a.innerText="Longer stays unlock better discounts!";break}default:case"month-1":{let p=g;y&&(p+=h),c.innerText=`${m(p,o)} / month`,a.innerText="Longer stays unlock better discounts!";break}case"month-2":{let p=P,v=y?h:0,w=y?h*(1-C/100):0;p+=w;let S=g+v,E=m(S,o);s.innerText=`1st month: ${E}`,c.innerText=`${m(p,o)} - 2nd month`,a.parentElement.style.display=C==0?"none":"block",a.innerText=`${C.toFixed(1)}% discount for the 2nd month!`;break}case"month-3":{let p=J,v=y?h:0,w=y?h*(1-C/100):0,S=y?h*(1-q/100):0;p+=S;let E=g+v,W=P+w,Q=m(E,o),X=m(W,o);s.innerHTML=`
        	1st month: ${Q}<br>
          2nd month: ${X}`,c.innerText=`${m(p,o)} - 3rd month`,a.parentElement.style.display=q==0?"none":"block",a.innerText=`${q.toFixed(1)}% discount for the 3rd month!`;break}}}function M(t){let e=document.querySelectorAll(".dropdown-discount-2-months"),n=document.querySelectorAll(".dropdown-discount-3-months"),o=T(t),i=o.map(s=>s.discountMonth2),r=o.map(s=>s.discountMonth3);e.forEach(s=>{F(s,i)}),n.forEach(s=>{F(s,r)})}function F(t,e){if(!e||e.length===0){t.style.display="none";return}t.style.display="flex";let n=e.every(i=>i===e[0]),o=Math.max(...e);o==0?t.innerText="":t.innerText=`${o.toFixed(1)}% discount`,n||(t.innerText="Up to "+t.innerText)}function D(){let t=document.querySelectorAll(".room-book-button"),e=document.querySelector("#rooms")?.getAttribute("data-destination-slug");t.forEach(n=>{let o=n.querySelector("a"),i=o.getAttribute("href").split("?")[0],r=n.getAttribute("data-roomslug"),s=CollectionListDropDown.getValue("#workation-season-dropdown"),c=CollectionListDropDown.getValue("#guest-count-dropdown")??1;o.setAttribute("href",`${i}?destination=${encodeURIComponent(e)}&edition=${encodeURIComponent(s)}&room=${encodeURIComponent(r)}&guests=${encodeURIComponent(c)}`)})}function U(){let t=new URLSearchParams(window.location.search).get("edition"),e=document.querySelectorAll("#workation-season-dropdown .dropdown-item"),n=t??(e.length>0?e[0].getAttribute("data-value"):null);CollectionListDropDown.setValue("#workation-season-dropdown",n)}function $(t){let e=document.querySelector("#additional-booking-infos");if(!e)return;let n=e.querySelectorAll("[data-edition-slug]");n.length&&n.forEach(o=>{let i=o.getAttribute("data-edition-slug"),r=t&&i===t;o.style.display=r?"block":"none"})}function N(){let t=document.getElementById("map-data").dataset.address;if(!t)return;new google.maps.Geocoder().geocode({address:t},function(n,o){if(o==="OK"){let i=new google.maps.Map(document.getElementById("map"),{zoom:14,center:n[0].geometry.location});new google.maps.Marker({map:i,position:n[0].geometry.location})}else console.error("Geocode failed: "+o)})}function H(){document.querySelectorAll("#upcoming-workations .swiper-slide").forEach(t=>{let e=t.getAttribute("data-booking-state")?.toLowerCase();e==="closed"?(t.style.opacity="0.5",t.style.pointerEvents="none",t.style.cursor="not-allowed"):e==="available soon"&&(t.style.pointerEvents="none",t.style.cursor="default")})}var k=class{constructor(e){this.SELECTORS=e,this.swiperInstance=null,this.prevButton=null,this.nextButton=null}init(){document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(this.SELECTORS.swiperWrapper);e&&(e.style.gap="0"),this.initSwiper()})}initSwiper(){let e=document.querySelector(this.SELECTORS.refContainer),n=document.querySelector(this.SELECTORS.swiperWrapper);if(this.prevButton=document.querySelector(this.SELECTORS.prevButton),this.nextButton=document.querySelector(this.SELECTORS.nextButton),!e||!n||!this.prevButton||!this.nextButton)return console.error("Required elements not found"),null;let i=e.getBoundingClientRect().left,r=new Swiper(this.SELECTORS.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:i,slidesOffsetAfter:16,navigation:{nextEl:this.SELECTORS.nextButton,prevEl:this.SELECTORS.prevButton},watchOverflow:!0});return this.swiperInstance=r,this.updateButtonsState(),r.on("slideChange",this.updateButtonsState.bind(this)),window.addEventListener("resize",()=>{let s=e.getBoundingClientRect().left;r&&r.params&&(r.params.slidesOffsetBefore=s,r.update())}),r}updateButtonsState(){if(!this.prevButton||!this.nextButton)return;this.prevButton.style.opacity=this.swiperInstance.isBeginning?"0.5":"1",this.prevButton.style.pointerEvents=this.swiperInstance.isBeginning?"none":"auto";let e=this.swiperInstance.maxTranslate();this.swiperInstance.translate<=e+5?(this.nextButton.style.opacity="0.5",this.nextButton.style.pointerEvents="none"):(this.nextButton.style.opacity="1",this.nextButton.style.pointerEvents="auto")}};var R=class{constructor(e){this.elements=e,this.swiperInstance=null}init(){let{swiper:e,prevButton:n,nextButton:o}=this.elements;this.swiperInstance=new Swiper(e,{slidesPerView:1,spaceBetween:0,nested:!0,wrapperClass:"common-facilities-card-image-wrapper",slideClass:"common-facility-card-image-slide",navigation:{nextEl:o,prevEl:n},watchOverflow:!0}),this.updateButtonsState(),this.swiperInstance.on("slideChange",()=>this.updateButtonsState())}updateButtonsState(){let{prevButton:e,nextButton:n}=this.elements;!e||!n||(e.style.opacity=this.swiperInstance.isBeginning?"0.5":"1",e.style.pointerEvents=this.swiperInstance.isBeginning?"none":"auto",n.style.opacity=this.swiperInstance.isEnd?"0.5":"1",n.style.pointerEvents=this.swiperInstance.isEnd?"none":"auto")}};var z=function(){let t,e,n=null,o=null;function i(){let s=document.querySelector(o.swiperWrapper);if(e=document.querySelector(o.prevButton),n=document.querySelector(o.nextButton),!s||!e||!n)return console.error("Required elements not found"),null;let c=new Swiper(o.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetAfter:16,navigation:{nextEl:o.nextButton,prevEl:o.prevButton},watchOverflow:!0});t=c,r(),c.on("slideChange",function(){r()});function a(){let l=s.getBoundingClientRect().left,u=document.querySelector("#features-cards-section .features-cards-carousel-container");u.style.width=`${window.innerWidth-l}px`,u.style.minWidth=`${window.innerWidth-l}px`,u.style.maxWidth=`${window.innerWidth-l}px`,s.style.width=`${window.innerWidth-l}px`,s.style.minWidth=`${window.innerWidth-l}px`,s.style.maxWidth=`${window.innerWidth-l}px`}return window.addEventListener("resize",a),a(),c}function r(){!e||!n||(e.style.opacity=t.isBeginning?"0.5":"1",e.style.pointerEvents=t.isBeginning?"none":"auto",n.style.opacity=t.isEnd?"0.5":"1",n.style.pointerEvents=t.isEnd?"none":"auto")}return{init:function(s){o=s,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(o.swiperWrapper);c.style.gap="0",i()})}}}();function G(){let t=document.querySelectorAll("#destination-cards-section .filter-button"),e=document.querySelectorAll("#destination-cards-section .filter-list-item");t.forEach(o=>{o.addEventListener("click",function(){t.forEach(r=>r.classList.remove("active")),this.classList.add("active");let i=this.getAttribute("data-season");i==="all"?e.forEach(r=>{r.classList.remove("filtered-out")}):e.forEach(r=>{let s=`[data-season-${i}="true"]`;r.querySelector(s)!==null?r.classList.remove("filtered-out"):r.classList.add("filtered-out")})})});let n=document.querySelector('[data-season="all"]');n&&n.click()}function j(){function t(e){let n=document.createElement("a");return n.href="#",n.textContent=e?"Read more":"Read less",n.style.display="inline-block",n.style.color="#0a4915",n.style.fontWeight="600",n}document.querySelectorAll("[data-read-more]").forEach(e=>{let n=parseInt(e.getAttribute("data-read-more"),10);if(isNaN(n)||e.scrollHeight<=n)return;e.style.maxHeight=n+"px",e.style.overflow="hidden",e.dataset.readMoreState="collapsed";let o=t(!0);e.insertAdjacentElement("afterend",o),o.addEventListener("click",function(i){i.preventDefault(),e.dataset.readMoreState==="collapsed"?(e.style.maxHeight=e.scrollHeight+"px",e.dataset.readMoreState="expanded",this.textContent="Read less"):(e.style.maxHeight=n+"px",e.dataset.readMoreState="collapsed",this.textContent="Read more")})})}window.CollectionListDropDown=B;B.init({selector:"#workation-season-dropdown",onChange:t=>{let e=t.getAttribute("data-value");M(e),b(),D(),$(e)}});B.init({selector:"#length-stay-dropdown",initialValue:"month-3",onChange:()=>b()});B.init({selector:"#guest-count-dropdown",initialValue:"1",onChange:()=>{b(),D()}});A.init({selectorId:"#impressions-cards-slider-1",isReverse:!1});A.init({selectorId:"#impressions-cards-slider-2",isReverse:!0});V.init({selectors:{swiper:"#upcoming-workations .swiper",swiperWrapper:"#upcoming-workations .swiper-wrapper",swiperSlides:"#upcoming-workations .upcoming-workation-card",prevButton:"#upcoming-workations-swiper-prev-btn",nextButton:"#upcoming-workations-swiper-next-btn"},onItemClick:t=>{let e=t.getAttribute("data-edition");window.CollectionListDropDown.setValue("#workation-season-dropdown",e)}});var Z=new k({refContainer:"#activity-cards-swiper-ref-container",swiper:"#activity-cards-section .swiper",swiperWrapper:"#activity-cards-section .swiper-wrapper",prevButton:"#activity-cards-swiper-prev-btn",nextButton:"#activity-cards-swiper-next-btn"});Z.init();var _=new k({refContainer:"#common-facilities-cards-swiper-ref-container",swiper:".common-facility-card-carousel-wrapper",swiperWrapper:".common-facility-card-wrapper",prevButton:"#common-facilities-cards-swiper-prev-btn",nextButton:"#common-facilities-cards-swiper-next-btn"});_.init();z.init({swiper:"#features-cards-section .swiper",swiperWrapper:"#features-cards-section .swiper-wrapper",prevButton:"#features-cards-btn-left",nextButton:"#features-cards-btn-right"});var ee=new k({refContainer:"#destination-cards-swiper-ref-container",swiper:"#destination-cards-section .swiper",swiperWrapper:"#destination-cards-section .swiper-wrapper",prevButton:"#destination-cards-swiper-prev-btn",nextButton:"#destination-cards-swiper-next-btn"});ee.init();document.addEventListener("DOMContentLoaded",function(){O("#destination-testimonials-section"),U(),b(),M(),D(),$(B.getValue("#workation-season-dropdown")),N(),H(),G(),j(),document.querySelectorAll(".common-facility-card-slider-item").forEach(e=>{let n={swiper:e.querySelector(".nested-swiper"),prevButton:e.querySelector(".nested-prev-btn-class a"),nextButton:e.querySelector(".nested-next-btn-class a")};n.swiper&&n.prevButton&&n.nextButton&&new R(n).init()})});})();
