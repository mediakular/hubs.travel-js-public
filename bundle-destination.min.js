(()=>{var p=(e,t)=>()=>(e&&(t=e(e=0)),t);var ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);function q(e){let t=document.querySelectorAll(`${e} .destination-testimonials-item`),r=document.querySelectorAll(`${e} .dyn-author-image`);if(!t||t.length===0){console.error("No testimonials found");return}let n=0;t.forEach(a=>a.style.display="none"),r.forEach(a=>{a.style.display="none",a.classList.remove("active")});function i(a){t.forEach((u,l)=>{u.style.display=l===a?"block":"none"}),r.forEach((u,l)=>{u.classList.toggle("active",l===a)}),n=a}let s=[...t];s.forEach((a,u)=>{let l=a.querySelector(".testimonial-card-author-image")?.src,d=document.querySelector(`${e} [data-slot="${u+1}"]`);d&&l&&(d.src=l,d.style.display="inline",u===0&&d.classList.add("active"),d.addEventListener("click",()=>{i(u)}))}),i(0);let o=document.getElementById("destination-testimonials-btn-left"),c=document.getElementById("destination-testimonials-btn-right");o&&o.addEventListener("click",()=>{let a=(n-1+s.length)%s.length;i(a)}),c&&c.addEventListener("click",()=>{let a=(n+1)%s.length;i(a)})}var A=p(()=>{});var S,T=p(()=>{S=function(){let e={};function t(i,s,o){let c=document.querySelector(i),a=document.querySelector(`${i}.w-dropdown`),u=c.querySelector(`${i} .w-dropdown-toggle`),l=c.querySelector(`${i} .w-dropdown-list`),d=c.querySelector(`${i} .dropdown-selected-value`),f=c.querySelectorAll(`${i} .dropdown-item`);if(e[i]={container:c,dropdown:a,dropdownToggle:u,dropdownList:l,selectedItemValueContainer:d,collectionItems:f,onChange:s},f.forEach(m=>{m.addEventListener("click",function(w){w.preventDefault();let y=this;r(i,y),s&&s(y),l.classList.remove("w--open"),a.blur()})}),o){let m=n(i,o);m&&setTimeout(()=>{m.click()},200)}}function r(i,s){let o=e[i];if(!o)return;let c=o.selectedItemValueContainer;for(;c.firstChild;)c.removeChild(c.firstChild);let a=s;if(a){let u=a.cloneNode(!0);c.appendChild(u);let l=a.getAttribute("data-value");o.dropdown.setAttribute("data-current-value",l)}else console.error("SelectedItem Element not found.",s)}function n(i,s){let o=e[i];return Array.from(o.collectionItems).find(c=>c.getAttribute("data-value")===s)}return{init:function({selector:i,onChange:s,initialValue:o}){document.addEventListener("DOMContentLoaded",function(){t(i,s,o)})},setValue:function(i,s){let o=n(i,s);o?o.click():s!=null&&console.error(`No item with value '${s}' found in dropdown '${i}'`)},getValue:function(i){return e[i].dropdown.getAttribute("data-current-value")}}}()});var k,D=p(()=>{k=function(){let e=null;function t({selectorId:r,isReverse:n}){if(!document.querySelector(`${r} .swiper-wrapper`))return console.error("Required elements not found"),null;let s=new Swiper(`${r}.swiper`,{spaceBetween:16,loop:!0,slidesPerView:"auto",freeMode:!0,speed:6500,autoplay:{delay:0,disableOnInteraction:!1,reverseDirection:n,pauseOnMouseEnter:!1}});return e=s,s}return{init:function({selectorId:r,isReverse:n}){document.addEventListener("DOMContentLoaded",function(){let i=document.querySelector(`${r} .swiper-wrapper`);i.style.gap="0",i.style.setProperty("transition-timing-function","linear","important"),t({selectorId:r,isReverse:n})})}}}()});var W,$=p(()=>{W=function(){let e,t,r=null,n=null;function i({onItemClick:o}){let c=document.querySelector(n.swiperWrapper),a=document.querySelectorAll(n.swiperSlides);if(t=document.querySelector(n.prevButton),r=document.querySelector(n.nextButton),!c||!t||!r||!a)return console.error("Required elements not found"),null;let u=new Swiper(n.swiper,{direction:"vertical",slidesPerView:"auto",spaceBetween:8,freeMode:!1,navigation:{nextEl:n.nextButton,prevEl:n.prevButton},watchOverflow:!0});return e=u,s(),u.on("slideChange",function(){s()}),o&&a.forEach(l=>{l.addEventListener("click",d=>o(d.currentTarget))}),u}function s(){!t||!r||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",r.style.opacity=e.isEnd?"0.5":"1",r.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function({selectors:o,onItemClick:c}){n=o,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(n.swiperWrapper);a.style.gap="0",i({onItemClick:c})})}}}()});function b(e){let t=document.querySelectorAll(".room-price-data"),r=Array.from(t).map(n=>JSON.parse(n.textContent));return e?r.filter(n=>n.editionSlug===e):r}function h(e,t){return new Intl.NumberFormat("de-DE",{style:"currency",currency:t,currencyDisplay:"code"}).format(e)}var R=p(()=>{});function E(){let e=CollectionListDropDown.getValue("#workation-season-dropdown"),t=CollectionListDropDown.getValue("#length-stay-dropdown"),r=parseInt(CollectionListDropDown.getValue("#guest-count-dropdown")),n=document.querySelector("#rooms")?.getAttribute("data-currency")??"EUR",i=document.querySelectorAll(".room-list-item"),s=e?b(e):[];i.forEach(o=>{let c=o.getAttribute("data-roomslug"),a=o.getAttribute("data-allow-weekly-booking")==="Enabled",u=s.find(l=>l.roomSlug===c);te(o,u,t,r,n,a)})}function te(e,t,r,n,i,s){let o=e.querySelector(".room-item-price-breakdown"),c=e.querySelector(".room-item-price-month"),a=e.querySelector(".room-discount-text"),u=e.querySelector(".room-book-button"),l=e.querySelector(".room-item-price-not-avalable"),d=r&&r.startsWith("week"),f=l.innerText,m="Minimum length of stay for this room is 1 month";if(!t||d&&!s){l.innerText=d&&!s?m:f,l.style.display="flex",o.style.display="none",c.style.display="none",a.parentElement.style.display="none",u.style.opacity="0.5",u.style.pointerEvents="none",u.style.cursor="not-allowed";return}l.style.display="none",c.style.display="block",a.parentElement.style.display="flex",u.style.opacity="1",u.style.pointerEvents="auto",u.style.cursor="pointer";let w=t.basePrice*n,y=t.discountMonth2,x=t.discountMonth3,L=w*(1-y/100),Y=w*(1-x/100),Z=w/30*7,g=h(Z,i),B=h(w,i),_=!r||r.endsWith("-1");switch(o.style.display=_?"none":"inline",r){case"week-1":c.innerText=`${g} / week`,a.innerText="Longer stays unlock better discounts!";break;case"week-2":o.innerText=`1st week: ${g}`,c.innerText=`${g} - 2nd week`,a.innerText="Longer stays unlock better discounts!";break;case"week-3":o.innerHTML=`
        	1st week: ${g}<br>
          2nd week: ${g}`,c.innerText=`${g} - 3rd week`,a.innerText="Longer stays unlock better discounts!";break;default:case"month-1":c.innerText=`${B} / month`,a.innerText="Longer stays unlock better discounts!";break;case"month-2":o.innerText=`1st month: ${B}`,c.innerText=`${h(L,i)} - 2nd month`,a.parentElement.style.display=y==0?"none":"block",a.innerText=`${y.toFixed(1)}% discount for the 2nd month!`;break;case"month-3":o.innerHTML=`
        	1st month: ${B}<br>
          2nd month: ${h(L,i)}`,c.innerText=`${h(Y,i)} - 3rd month`,a.parentElement.style.display=x==0?"none":"block",a.innerText=`${x.toFixed(1)}% discount for the 3rd month!`;break}}function C(e){let t=document.querySelectorAll(".dropdown-discount-2-months"),r=document.querySelectorAll(".dropdown-discount-3-months"),n=b(e),i=n.map(o=>o.discountMonth2),s=n.map(o=>o.discountMonth3);t.forEach(o=>{I(o,i)}),r.forEach(o=>{I(o,s)})}function I(e,t){if(!t||t.length===0){e.style.display="none";return}e.style.display="flex";let r=t.every(i=>i===t[0]),n=Math.min(...t);n==0?e.innerText="":e.innerText=`${n.toFixed(1)}% discount`,r||(e.innerText="From "+e.innerText)}function v(){let e=document.querySelectorAll(".room-book-button"),t=document.querySelector("#rooms")?.getAttribute("data-destination-slug");e.forEach(r=>{let n=r.querySelector("a"),i=n.getAttribute("href").split("?")[0],s=r.getAttribute("data-roomslug"),o=CollectionListDropDown.getValue("#workation-season-dropdown"),c=CollectionListDropDown.getValue("#guest-count-dropdown")??1;n.setAttribute("href",`${i}?destination=${encodeURIComponent(t)}&edition=${encodeURIComponent(o)}&room=${encodeURIComponent(s)}&guests=${encodeURIComponent(c)}`)})}function M(){let e=new URLSearchParams(window.location.search).get("edition"),t=document.querySelectorAll("#workation-season-dropdown .dropdown-item"),r=e??(t.length>0?t[0].getAttribute("data-value"):null);CollectionListDropDown.setValue("#workation-season-dropdown",r)}var O=p(()=>{R()});function P(){let e=document.getElementById("map-data").dataset.address;if(!e)return;new google.maps.Geocoder().geocode({address:e},function(r,n){if(n==="OK"){let i=new google.maps.Map(document.getElementById("map"),{zoom:14,center:r[0].geometry.location});new google.maps.Marker({map:i,position:r[0].geometry.location})}else console.error("Geocode failed: "+n)})}var V=p(()=>{});function U(){document.querySelectorAll("#upcoming-workations .swiper-slide").forEach(e=>{let t=e.getAttribute("data-booking-state")?.toLowerCase();t==="closed"?(e.style.opacity="0.5",e.style.pointerEvents="none",e.style.cursor="not-allowed"):t==="available soon"&&(e.style.pointerEvents="none",e.style.cursor="default")})}var F=p(()=>{});var N,z=p(()=>{N=function(){let e,t,r=null,n=null;function i(){let o=document.querySelector(n.refContainer),c=document.querySelector(n.swiperWrapper);if(t=document.querySelector(n.prevButton),r=document.querySelector(n.nextButton),!o||!c||!t||!r)return console.error("Required elements not found"),null;let u=o.getBoundingClientRect().left,l=new Swiper(n.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:u,slidesOffsetAfter:16,navigation:{nextEl:n.nextButton,prevEl:n.prevButton},watchOverflow:!0});return e=l,s(),l.on("slideChange",s),window.addEventListener("resize",()=>{let d=o.getBoundingClientRect().left;l&&l.params&&(l.params.slidesOffsetBefore=d,l.update())}),l}function s(){if(!t||!r)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let o=e.maxTranslate();e.translate<=o+5?(r.style.opacity="0.5",r.style.pointerEvents="none"):(r.style.opacity="1",r.style.pointerEvents="auto")}return{init:function(o){n=o,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(n.swiperWrapper);c.style.gap="0",i()})}}}()});var G,H=p(()=>{G=function(){let e,t,r=null,n=null;function i(){let o=document.querySelector(n.swiperWrapper);if(t=document.querySelector(n.prevButton),r=document.querySelector(n.nextButton),!o||!t||!r)return console.error("Required elements not found"),null;let c=new Swiper(n.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetAfter:16,navigation:{nextEl:n.nextButton,prevEl:n.prevButton},watchOverflow:!0});e=c,s(),c.on("slideChange",function(){s()});function a(){let l=o.getBoundingClientRect().left,d=document.querySelector("#features-cards-section .features-cards-carousel-container");d.style.width=`${window.innerWidth-l}px`,d.style.minWidth=`${window.innerWidth-l}px`,d.style.maxWidth=`${window.innerWidth-l}px`,o.style.width=`${window.innerWidth-l}px`,o.style.minWidth=`${window.innerWidth-l}px`,o.style.maxWidth=`${window.innerWidth-l}px`}return window.addEventListener("resize",a),a(),c}function s(){!t||!r||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",r.style.opacity=e.isEnd?"0.5":"1",r.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function(o){n=o,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(n.swiperWrapper);c.style.gap="0",i()})}}}()});function J(){document.querySelectorAll("#edition-cards-section .edition-card-item").forEach(t=>{let r=t.querySelectorAll("a"),n=t.getAttribute("data-editionslug"),i=t.getAttribute("data-bookingstate");r.forEach(s=>{if(i=="Available Soon"){s.setAttribute("href","#"),s.style.cursor="auto";let o=s.querySelector(".edition-card-image");o.style.opacity=.4}else if(n){let o=s.getAttribute("href").split("?")[0];s.setAttribute("href",`${o}?edition=${encodeURIComponent(n)}`)}})})}var K,Q=p(()=>{K=function(){let e,t,r=null,n=[],i=null;function s(){let c=document.querySelector(i.refContainer),a=document.querySelector(i.swiperWrapper);if(t=document.querySelector(i.prevButton),r=document.querySelector(i.nextButton),n=Array.from(document.querySelectorAll("#edition-cards-section .swiper .swiper-slide")),!c||!a||!t||!r)return console.error("Required elements not found"),null;let l=c.getBoundingClientRect().left,d=new Swiper(i.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:l,slidesOffsetAfter:16,navigation:{nextEl:i.nextButton,prevEl:i.prevButton},watchOverflow:!0});return e=d,o(),d.on("slideChange",o),window.addEventListener("resize",()=>{let f=c.getBoundingClientRect().left;d&&d.params&&(d.params.slidesOffsetBefore=f,d.update())}),d}function o(){if(!t||!r)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let c=e.maxTranslate();e.translate<=c+5?(r.style.opacity="0.5",r.style.pointerEvents="none"):(r.style.opacity="1",r.style.pointerEvents="auto")}return{init:function(c){i=c,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(i.swiperWrapper);a.style.gap="0",s()})},filterSeason(c){if(!e)return;let a=n.filter(u=>c==="all"||c===u.getAttribute("data-season"));e.removeAllSlides(),e.addSlide(0,a),e.slideTo(0,0,!1),o()}}}()});function j(){let e=document.querySelectorAll(".filter-button"),t=document.querySelectorAll(".filter-list-item");e.forEach(n=>{n.addEventListener("click",function(){e.forEach(s=>s.classList.remove("active")),this.classList.add("active");let i=this.getAttribute("data-season");i==="all"?t.forEach(s=>{s.classList.remove("filtered-out")}):t.forEach(s=>{s.getAttribute("data-season")===i?s.classList.remove("filtered-out"):s.classList.add("filtered-out")})})});let r=document.querySelector('[data-season="all"]');r&&r.click()}var X=p(()=>{});var ne=ee(()=>{A();T();D();$();O();V();F();z();H();Q();X();window.CollectionListDropDown=S;S.init({selector:"#workation-season-dropdown",onChange:e=>{let t=e.getAttribute("data-value");C(t),E(),v()}});S.init({selector:"#length-stay-dropdown",initialValue:"month-3",onChange:()=>E()});S.init({selector:"#guest-count-dropdown",initialValue:"1",onChange:()=>{E(),v()}});k.init({selectorId:"#impressions-cards-slider-1",isReverse:!1});k.init({selectorId:"#impressions-cards-slider-2",isReverse:!0});W.init({selectors:{swiper:"#upcoming-workations .swiper",swiperWrapper:"#upcoming-workations .swiper-wrapper",swiperSlides:"#upcoming-workations .upcoming-workation-card",prevButton:"#upcoming-workations-swiper-prev-btn",nextButton:"#upcoming-workations-swiper-next-btn"},onItemClick:e=>{let t=e.getAttribute("data-edition");window.CollectionListDropDown.setValue("#workation-season-dropdown",t)}});N.init({refContainer:"#activity-cards-swiper-ref-container",swiper:"#activity-cards-section .swiper",swiperWrapper:"#activity-cards-section .swiper-wrapper",prevButton:"#activity-cards-swiper-prev-btn",nextButton:"#activity-cards-swiper-next-btn"});G.init({swiper:"#features-cards-section .swiper",swiperWrapper:"#features-cards-section .swiper-wrapper",prevButton:"#features-cards-btn-left",nextButton:"#features-cards-btn-right"});K.init({refContainer:"#edition-cards-swiper-ref-container",swiper:"#edition-cards-section .swiper",swiperWrapper:"#edition-cards-section .swiper-wrapper",prevButton:"#edition-cards-swiper-prev-btn",nextButton:"#edition-cards-swiper-next-btn"});document.addEventListener("DOMContentLoaded",function(){q("#destination-testimonials-section"),M(),E(),C(),v(),P(),U(),J(),j()})});ne();})();
//# sourceMappingURL=bundle-destination.min.js.map
