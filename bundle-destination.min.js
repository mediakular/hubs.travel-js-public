(()=>{var re=Object.create;var q=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var ae=Object.getPrototypeOf,ce=Object.prototype.hasOwnProperty;var p=(e,t)=>()=>(e&&(t=e(e=0)),t);var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var le=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of se(t))!ce.call(e,o)&&o!==n&&q(e,o,{get:()=>t[o],enumerable:!(r=ie(t,o))||r.enumerable});return e};var de=(e,t,n)=>(n=e!=null?re(ae(e)):{},le(t||!e||!e.__esModule?q(n,"default",{value:e,enumerable:!0}):n,e));function T(e){let t=document.querySelectorAll(`${e} .destination-testimonials-item`),n=document.querySelectorAll(`${e} .dyn-author-image`);if(!t||t.length===0){console.error("No testimonials found");return}let r=0;t.forEach(c=>c.style.display="none"),n.forEach(c=>{c.style.display="none",c.classList.remove("active")});function o(c){t.forEach((d,l)=>{d.style.display=l===c?"block":"none"}),n.forEach((d,l)=>{d.classList.toggle("active",l===c)}),r=c}let s=[...t];s.forEach((c,d)=>{let l=c.querySelector(".testimonial-card-author-image")?.src,u=document.querySelector(`${e} [data-slot="${d+1}"]`);u&&l&&(u.src=l,u.style.display="inline",d===0&&u.classList.add("active"),u.addEventListener("click",()=>{o(d)}))}),o(0);let i=document.getElementById("destination-testimonials-btn-left"),a=document.getElementById("destination-testimonials-btn-right");i&&i.addEventListener("click",()=>{let c=(r-1+s.length)%s.length;o(c)}),a&&a.addEventListener("click",()=>{let c=(r+1)%s.length;o(c)})}var D=p(()=>{});var S,W=p(()=>{S=function(){let e={};function t(o,s,i){let a=document.querySelector(o),c=document.querySelector(`${o}.w-dropdown`),d=a.querySelector(`${o} .w-dropdown-toggle`),l=a.querySelector(`${o} .w-dropdown-list`),u=a.querySelector(`${o} .dropdown-selected-value`),m=a.querySelectorAll(`${o} .dropdown-item`);if(e[o]={container:a,dropdown:c,dropdownToggle:d,dropdownList:l,selectedItemValueContainer:u,collectionItems:m,onChange:s},m.forEach(f=>{f.addEventListener("click",function(w){w.preventDefault();let y=this;n(o,y),s&&s(y),l.classList.remove("w--open"),c.blur()})}),i){let f=r(o,i);f&&setTimeout(()=>{f.click()},200)}}function n(o,s){let i=e[o];if(!i)return;let a=i.selectedItemValueContainer;for(;a.firstChild;)a.removeChild(a.firstChild);let c=s;if(c){let d=c.cloneNode(!0);a.appendChild(d);let l=c.getAttribute("data-value");i.dropdown.setAttribute("data-current-value",l)}else console.error("SelectedItem Element not found.",s)}function r(o,s){let i=e[o];return Array.from(i.collectionItems).find(a=>a.getAttribute("data-value")===s)}return{init:function({selector:o,onChange:s,initialValue:i}){document.addEventListener("DOMContentLoaded",function(){t(o,s,i)})},setValue:function(o,s){let i=r(o,s);i?i.click():s!=null&&console.error(`No item with value '${s}' found in dropdown '${o}'`)},getValue:function(o){return e[o].dropdown.getAttribute("data-current-value")}}}()});var k,R=p(()=>{k=function(){let e=null;function t({selectorId:n,isReverse:r}){if(!document.querySelector(`${n} .swiper-wrapper`))return console.error("Required elements not found"),null;let s=new Swiper(`${n}.swiper`,{spaceBetween:16,loop:!0,slidesPerView:"auto",freeMode:!0,speed:6500,autoplay:{delay:0,disableOnInteraction:!1,reverseDirection:r,pauseOnMouseEnter:!1}});return e=s,s}return{init:function({selectorId:n,isReverse:r}){document.addEventListener("DOMContentLoaded",function(){let o=document.querySelector(`${n} .swiper-wrapper`);o.style.gap="0",o.style.setProperty("transition-timing-function","linear","important"),t({selectorId:n,isReverse:r})})}}}()});var $,M=p(()=>{$=function(){let e,t,n=null,r=null;function o({onItemClick:i}){let a=document.querySelector(r.swiperWrapper),c=document.querySelectorAll(r.swiperSlides);if(t=document.querySelector(r.prevButton),n=document.querySelector(r.nextButton),!a||!t||!n||!c)return console.error("Required elements not found"),null;let d=new Swiper(r.swiper,{direction:"vertical",slidesPerView:"auto",spaceBetween:8,freeMode:!1,navigation:{nextEl:r.nextButton,prevEl:r.prevButton},watchOverflow:!0});return e=d,s(),d.on("slideChange",function(){s()}),i&&c.forEach(l=>{l.addEventListener("click",u=>i(u.currentTarget))}),d}function s(){!t||!n||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",n.style.opacity=e.isEnd?"0.5":"1",n.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function({selectors:i,onItemClick:a}){r=i,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(r.swiperWrapper);c.style.gap="0",o({onItemClick:a})})}}}()});function b(e){let t=document.querySelectorAll(".room-price-data"),n=Array.from(t).map(r=>JSON.parse(r.textContent));return e?n.filter(r=>r.editionSlug===e):n}function h(e,t){return new Intl.NumberFormat("de-DE",{style:"currency",currency:t,currencyDisplay:"code"}).format(e)}var I=p(()=>{});function E(){let e=CollectionListDropDown.getValue("#workation-season-dropdown"),t=CollectionListDropDown.getValue("#length-stay-dropdown"),n=parseInt(CollectionListDropDown.getValue("#guest-count-dropdown")),r=document.querySelector("#rooms")?.getAttribute("data-currency")??"EUR",o=document.querySelectorAll(".room-list-item"),s=e?b(e):[];o.forEach(i=>{let a=i.getAttribute("data-roomslug"),c=i.getAttribute("data-allow-weekly-booking")==="Enabled",d=s.find(l=>l.roomSlug===a);ue(i,d,t,n,r,c)})}function ue(e,t,n,r,o,s){let i=e.querySelector(".room-item-price-breakdown"),a=e.querySelector(".room-item-price-month"),c=e.querySelector(".room-discount-text"),d=e.querySelector(".room-book-button"),l=e.querySelector(".room-item-price-not-avalable"),u=n&&n.startsWith("week"),m=l.innerText,f="Minimum length of stay for this room is 1 month";if(!t||u&&!s){l.innerText=u&&!s?f:m,l.style.display="flex",i.style.display="none",a.style.display="none",c.parentElement.style.display="none",d.style.opacity="0.5",d.style.pointerEvents="none",d.style.cursor="not-allowed";return}l.style.display="none",a.style.display="block",c.parentElement.style.display="flex",d.style.opacity="1",d.style.pointerEvents="auto",d.style.cursor="pointer";let w=t.basePrice*r,y=t.discountMonth2,x=t.discountMonth3,L=w*(1-y/100),te=w*(1-x/100),ne=w/30*7,g=h(ne,o),B=h(w,o),oe=!n||n.endsWith("-1");switch(i.style.display=oe?"none":"inline",n){case"week-1":a.innerText=`${g} / week`,c.innerText="Longer stays unlock better discounts!";break;case"week-2":i.innerText=`1st week: ${g}`,a.innerText=`${g} - 2nd week`,c.innerText="Longer stays unlock better discounts!";break;case"week-3":i.innerHTML=`
        	1st week: ${g}<br>
          2nd week: ${g}`,a.innerText=`${g} - 3rd week`,c.innerText="Longer stays unlock better discounts!";break;default:case"month-1":a.innerText=`${B} / month`,c.innerText="Longer stays unlock better discounts!";break;case"month-2":i.innerText=`1st month: ${B}`,a.innerText=`${h(L,o)} - 2nd month`,c.parentElement.style.display=y==0?"none":"block",c.innerText=`${y.toFixed(1)}% discount for the 2nd month!`;break;case"month-3":i.innerHTML=`
        	1st month: ${B}<br>
          2nd month: ${h(L,o)}`,a.innerText=`${h(te,o)} - 3rd month`,c.parentElement.style.display=x==0?"none":"block",c.innerText=`${x.toFixed(1)}% discount for the 3rd month!`;break}}function C(e){let t=document.querySelectorAll(".dropdown-discount-2-months"),n=document.querySelectorAll(".dropdown-discount-3-months"),r=b(e),o=r.map(i=>i.discountMonth2),s=r.map(i=>i.discountMonth3);t.forEach(i=>{O(i,o)}),n.forEach(i=>{O(i,s)})}function O(e,t){if(!t||t.length===0){e.style.display="none";return}e.style.display="flex";let n=t.every(o=>o===t[0]),r=Math.min(...t);r==0?e.innerText="":e.innerText=`${r.toFixed(1)}% discount`,n||(e.innerText="From "+e.innerText)}function v(){let e=document.querySelectorAll(".room-book-button"),t=document.querySelector("#rooms")?.getAttribute("data-destination-slug");e.forEach(n=>{let r=n.querySelector("a"),o=r.getAttribute("href").split("?")[0],s=n.getAttribute("data-roomslug"),i=CollectionListDropDown.getValue("#workation-season-dropdown"),a=CollectionListDropDown.getValue("#guest-count-dropdown")??1;r.setAttribute("href",`${o}?destination=${encodeURIComponent(t)}&edition=${encodeURIComponent(i)}&room=${encodeURIComponent(s)}&guests=${encodeURIComponent(a)}`)})}function P(){let e=new URLSearchParams(window.location.search).get("edition"),t=document.querySelectorAll("#workation-season-dropdown .dropdown-item"),n=e??(t.length>0?t[0].getAttribute("data-value"):null);CollectionListDropDown.setValue("#workation-season-dropdown",n)}var V=p(()=>{I()});function U(){let e=document.getElementById("map-data").dataset.address;if(!e)return;new google.maps.Geocoder().geocode({address:e},function(n,r){if(r==="OK"){let o=new google.maps.Map(document.getElementById("map"),{zoom:14,center:n[0].geometry.location});new google.maps.Marker({map:o,position:n[0].geometry.location})}else console.error("Geocode failed: "+r)})}var F=p(()=>{});function H(){document.querySelectorAll("#upcoming-workations .swiper-slide").forEach(e=>{let t=e.getAttribute("data-booking-state")?.toLowerCase();t==="closed"?(e.style.opacity="0.5",e.style.pointerEvents="none",e.style.cursor="not-allowed"):t==="available soon"&&(e.style.pointerEvents="none",e.style.cursor="default")})}var N=p(()=>{});var z,G=p(()=>{z=function(){let e,t,n=null,r=null;function o(){let i=document.querySelector(r.refContainer),a=document.querySelector(r.swiperWrapper);if(t=document.querySelector(r.prevButton),n=document.querySelector(r.nextButton),!i||!a||!t||!n)return console.error("Required elements not found"),null;let d=i.getBoundingClientRect().left,l=new Swiper(r.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:d,slidesOffsetAfter:16,navigation:{nextEl:r.nextButton,prevEl:r.prevButton},watchOverflow:!0});return e=l,s(),l.on("slideChange",s),window.addEventListener("resize",()=>{let u=i.getBoundingClientRect().left;l&&l.params&&(l.params.slidesOffsetBefore=u,l.update())}),l}function s(){if(!t||!n)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let i=e.maxTranslate();e.translate<=i+5?(n.style.opacity="0.5",n.style.pointerEvents="none"):(n.style.opacity="1",n.style.pointerEvents="auto")}return{init:function(i){r=i,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(r.swiperWrapper);a.style.gap="0",o()})}}}()});var K,j=p(()=>{K=function(){let e,t,n=null,r=null;function o(){let i=document.querySelector(r.swiperWrapper);if(t=document.querySelector(r.prevButton),n=document.querySelector(r.nextButton),!i||!t||!n)return console.error("Required elements not found"),null;let a=new Swiper(r.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetAfter:16,navigation:{nextEl:r.nextButton,prevEl:r.prevButton},watchOverflow:!0});e=a,s(),a.on("slideChange",function(){s()});function c(){let l=i.getBoundingClientRect().left,u=document.querySelector("#features-cards-section .features-cards-carousel-container");u.style.width=`${window.innerWidth-l}px`,u.style.minWidth=`${window.innerWidth-l}px`,u.style.maxWidth=`${window.innerWidth-l}px`,i.style.width=`${window.innerWidth-l}px`,i.style.minWidth=`${window.innerWidth-l}px`,i.style.maxWidth=`${window.innerWidth-l}px`}return window.addEventListener("resize",c),c(),a}function s(){!t||!n||(t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto",n.style.opacity=e.isEnd?"0.5":"1",n.style.pointerEvents=e.isEnd?"none":"auto")}return{init:function(i){r=i,document.addEventListener("DOMContentLoaded",function(){let a=document.querySelector(r.swiperWrapper);a.style.gap="0",o()})}}}()});function Q(){document.querySelectorAll("#edition-cards-section .edition-card-item").forEach(t=>{let n=t.querySelectorAll("a"),r=t.getAttribute("data-editionslug"),o=t.getAttribute("data-bookingstate");n.forEach(s=>{if(o=="Available Soon"){s.setAttribute("href","#"),s.style.cursor="auto";let i=s.querySelector(".edition-card-image");i.style.opacity=.4}else if(r){let i=s.getAttribute("href").split("?")[0];s.setAttribute("href",`${i}?edition=${encodeURIComponent(r)}`)}})})}var J,X=p(()=>{J=function(){let e,t,n=null,r=[],o=null;function s(){let a=document.querySelector(o.refContainer),c=document.querySelector(o.swiperWrapper);if(t=document.querySelector(o.prevButton),n=document.querySelector(o.nextButton),r=Array.from(document.querySelectorAll("#edition-cards-section .swiper .swiper-slide")),!a||!c||!t||!n)return console.error("Required elements not found"),null;let l=a.getBoundingClientRect().left,u=new Swiper(o.swiper,{slidesPerView:"auto",spaceBetween:16,freeMode:!1,slidesOffsetBefore:l,slidesOffsetAfter:16,navigation:{nextEl:o.nextButton,prevEl:o.prevButton},watchOverflow:!0});return e=u,i(),u.on("slideChange",i),window.addEventListener("resize",()=>{let m=a.getBoundingClientRect().left;u&&u.params&&(u.params.slidesOffsetBefore=m,u.update())}),u}function i(){if(!t||!n)return;t.style.opacity=e.isBeginning?"0.5":"1",t.style.pointerEvents=e.isBeginning?"none":"auto";let a=e.maxTranslate();e.translate<=a+5?(n.style.opacity="0.5",n.style.pointerEvents="none"):(n.style.opacity="1",n.style.pointerEvents="auto")}return{init:function(a){o=a,document.addEventListener("DOMContentLoaded",function(){let c=document.querySelector(o.swiperWrapper);c.style.gap="0",s()})},filterSeason(a){if(!e)return;let c=r.filter(d=>a==="all"||a===d.getAttribute("data-season"));e.removeAllSlides(),e.addSlide(0,c),e.slideTo(0,0,!1),i()}}}()});function Y(){let e=document.querySelectorAll(".filter-button"),t=document.querySelectorAll(".filter-list-item");e.forEach(r=>{r.addEventListener("click",function(){e.forEach(s=>s.classList.remove("active")),this.classList.add("active");let o=this.getAttribute("data-season");o==="all"?t.forEach(s=>{s.classList.remove("filtered-out")}):t.forEach(s=>{s.getAttribute("data-season")===o?s.classList.remove("filtered-out"):s.classList.add("filtered-out")})})});let n=document.querySelector('[data-season="all"]');n&&n.click()}var Z=p(()=>{});var _=A(()=>{});var pe=A(()=>{D();W();R();M();V();F();N();G();j();X();Z();var ee=de(_());window.CollectionListDropDown=S;S.init({selector:"#workation-season-dropdown",onChange:e=>{let t=e.getAttribute("data-value");C(t),E(),v()}});S.init({selector:"#length-stay-dropdown",initialValue:"month-3",onChange:()=>E()});S.init({selector:"#guest-count-dropdown",initialValue:"1",onChange:()=>{E(),v()}});k.init({selectorId:"#impressions-cards-slider-1",isReverse:!1});k.init({selectorId:"#impressions-cards-slider-2",isReverse:!0});$.init({selectors:{swiper:"#upcoming-workations .swiper",swiperWrapper:"#upcoming-workations .swiper-wrapper",swiperSlides:"#upcoming-workations .upcoming-workation-card",prevButton:"#upcoming-workations-swiper-prev-btn",nextButton:"#upcoming-workations-swiper-next-btn"},onItemClick:e=>{let t=e.getAttribute("data-edition");window.CollectionListDropDown.setValue("#workation-season-dropdown",t)}});z.init({refContainer:"#activity-cards-swiper-ref-container",swiper:"#activity-cards-section .swiper",swiperWrapper:"#activity-cards-section .swiper-wrapper",prevButton:"#activity-cards-swiper-prev-btn",nextButton:"#activity-cards-swiper-next-btn"});K.init({swiper:"#features-cards-section .swiper",swiperWrapper:"#features-cards-section .swiper-wrapper",prevButton:"#features-cards-btn-left",nextButton:"#features-cards-btn-right"});J.init({refContainer:"#edition-cards-swiper-ref-container",swiper:"#edition-cards-section .swiper",swiperWrapper:"#edition-cards-section .swiper-wrapper",prevButton:"#edition-cards-swiper-prev-btn",nextButton:"#edition-cards-swiper-next-btn"});document.addEventListener("DOMContentLoaded",function(){T("#destination-testimonials-section"),P(),E(),C(),v(),U(),H(),Q(),Y(),(void 0)()})});pe();})();
//# sourceMappingURL=bundle-destination.min.js.map
