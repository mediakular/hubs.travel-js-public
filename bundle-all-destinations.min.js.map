{
  "version": 3,
  "sources": ["../components/europe-map.js", "../controls/collectionListDropdown.js", "../components/upcoming-editions.js", "../components/upcoming-editions-filter.js", "../pages/all-destinations/index.js"],
  "sourcesContent": ["export function initEuropeMap () {\n  document.querySelectorAll(\"[data-map-pos-left]\").forEach(el => {\n    const left = el.getAttribute(\"data-map-pos-left\");\n    const top = el.getAttribute(\"data-map-pos-top\");\n    \n    if (left && top) {\n      el.style.position = \"absolute\";  // Ensure absolute positioning\n      el.style.left = left + \"%\";\n      el.style.top = top + \"%\";\n    }\n  });\n}", "export const CollectionListDropDown = (function () {\n  // Store dropdown instances to access them later\n  const dropdowns = {};\n \n  function initDropDown(selector, onChange, initialValue) {\n    const container = document.querySelector(selector);\n    const dropdown = document.querySelector(`${selector}.w-dropdown`);\n    const dropdownToggle = container.querySelector(`${selector} .w-dropdown-toggle`); \n    const dropdownList = container.querySelector(`${selector} .w-dropdown-list`);\n    const selectedItemValueContainer = container.querySelector(`${selector} .dropdown-selected-value`);\n    const collectionItems = container.querySelectorAll(`${selector} .dropdown-item`);\n    \n    // Store this dropdown instance data for later access\n    dropdowns[selector] = {\n      container,\n      dropdown,\n      dropdownToggle,\n      dropdownList,\n      selectedItemValueContainer,\n      collectionItems,\n      onChange\n    };\n    \n    collectionItems.forEach(item => {\n      item.addEventListener('click', function(event) {\n        event.preventDefault(); // Prevent default link behavior if using Link Blocks\n        const selectedOption = this;\n        selectDropDownElement(selector, selectedOption);\n       \n        onChange && onChange(selectedOption);\n        // Close the dropdown\n        dropdownList.classList.remove('w--open'); // Close the dropdown\n        // Move focus away to reset dropdown behavior\n        dropdown.blur();\n      });\n    });\n        \n    if (initialValue) {\n      const item = getElementByItemValue(selector, initialValue);\n      if (item) { \n        setTimeout(() => {\n          item.click(); // Simulate a click on the matching item to activate filter\n        }, 200);\n      }\n    }\n  }\n  \n  function selectDropDownElement(selector, selectedItem) {\n    const dropdown = dropdowns[selector];\n    if (!dropdown) return;\n    \n    const selectedItemValueContainer = dropdown.selectedItemValueContainer;\n    \n    while (selectedItemValueContainer.firstChild) {\n      selectedItemValueContainer.removeChild(selectedItemValueContainer.firstChild);\n    }\n    \n    const sourceElement = selectedItem;\n    if (sourceElement) {\n      const clonedElement = sourceElement.cloneNode(true);\n      selectedItemValueContainer.appendChild(clonedElement);\n      const currentValue = sourceElement.getAttribute('data-value');\n      dropdown.dropdown.setAttribute('data-current-value', currentValue);\n    } else {\n      console.error(\"SelectedItem Element not found.\", selectedItem);\n    }\n  }\n  \n  function getElementByItemValue(selector, value) {\n    const dropdown = dropdowns[selector];\n    return Array.from(dropdown.collectionItems).find((x) => {\n      return x.getAttribute('data-value') === value;\n    });\n  }\n  \n  // Public methods\n  return {\n    init: function({ selector, onChange, initialValue }) {\n      document.addEventListener('DOMContentLoaded', function() {\n        initDropDown(selector, onChange, initialValue);\n      });\n    },\n    // Add a new public method to change dropdown value from outside\n    setValue: function(selector, value) {\n      const item = getElementByItemValue(selector, value);\n      if (item) {\n        item.click(); // Trigger the click event on the item\n      } else if (value !== undefined && value !== null) {\n        console.error(`No item with value '${value}' found in dropdown '${selector}'`);\n      }\n    },\n    // Get currently selected dropdown value\n    getValue: function(selector) {\n      const dropdown = dropdowns[selector];\n      return dropdown.dropdown.getAttribute('data-current-value');\n    }\n  };\n})();", "export const EditionCardsCarousel = (function () {\n  let swiperInstance, prevButton, nextButton = null;\n  let allSlides = []; // we need to store them for filtering \n  let SELECTORS = null; \n\n  function initSwiper() {\n    const refContainer = document.querySelector(SELECTORS.refContainer); \n    const swiperWrapper = document.querySelector(SELECTORS.swiperWrapper);\n    prevButton = document.querySelector(SELECTORS.prevButton);\n    nextButton = document.querySelector(SELECTORS.nextButton);\n    allSlides = Array.from(document.querySelectorAll('#edition-cards-section .swiper .swiper-slide'));\n\n    if (!refContainer || !swiperWrapper || !prevButton || !nextButton) {\n      console.error('Required elements not found');\n      return null;\n    }    \n    \n\t\tconst refRect = refContainer.getBoundingClientRect();\n  \tconst offsetBefore = refRect.left;\n\n    // Initialize Swiper\n    const swiper = new Swiper(SELECTORS.swiper, {\n      slidesPerView: \"auto\",\n      spaceBetween: 16,\n      freeMode: false,\n      slidesOffsetBefore: offsetBefore,\n      slidesOffsetAfter: 16,\n      navigation: {\n        nextEl: SELECTORS.nextButton,\n       \tprevEl: SELECTORS.prevButton,\n      },\n      watchOverflow: true,\n    });\n\n\tswiperInstance = swiper;\n\n    // Set initial state of buttons\n    updateButtonsState();\n\n    // Add event listeners to update button states when slides change\n    swiper.on('slideChange', updateButtonsState);\n    \n    // Add resize event listener separately\n    window.addEventListener('resize', () => {\n      const newOffsetBefore = refContainer.getBoundingClientRect().left;\n\n      // Check if Swiper instance exists and has a method to update params\n      if (swiper && swiper.params) {\n        swiper.params.slidesOffsetBefore = newOffsetBefore;\n        swiper.update(); // Refresh Swiper\n      }\n    });\n\n    return swiper;\n  }\n\n  // Function to update button states\n  function updateButtonsState() {\n  \tif (!prevButton || !nextButton) return;\n    \n    prevButton.style.opacity = swiperInstance.isBeginning ? '0.5' : '1';\n    prevButton.style.pointerEvents = swiperInstance.isBeginning ? 'none' : 'auto'; \n\n    //nextButton.style.opacity = swiperInstance.isEnd ? '0.5' : '1';\n    //nextButton.style.pointerEvents = swiperInstance.isEnd ? 'none' : 'auto';\n    // Get Swiper's max translate position\n    const maxTranslate = swiperInstance.maxTranslate();\n    const currentTranslate = swiperInstance.translate;\n\n    if (currentTranslate <= maxTranslate + 5) { // buffer of 5 to prevent minor calculation errors.\n      nextButton.style.opacity = '0.5';\n      nextButton.style.pointerEvents = 'none';\n    } else {\n      nextButton.style.opacity = '1';\n      nextButton.style.pointerEvents = 'auto';\n    }\n  }\n\n  // Public methods\n  return {\n    init: function(selectors) {\n      SELECTORS = selectors;\n      document.addEventListener('DOMContentLoaded', function() {\n      \tconst swiperWrapper = document.querySelector(SELECTORS.swiperWrapper);\n        swiperWrapper.style.gap = '0';\n      \t\n        // Initialize swiper\n        initSwiper();\n      });\n    },\n    filterSeason(season) {\n    \tif (!swiperInstance) return;\n      \n    \t// Collect slides to keep\n     \tconst slidesToKeep = allSlides.filter(slideEl => \n     \t\tseason === 'all' || \n     \t\tseason === slideEl.getAttribute('data-season')\n     \t);\n      \n      swiperInstance.removeAllSlides();\n\n      // Add filtered slides\n      swiperInstance.addSlide(0, slidesToKeep);\n\n      // Reset to first slide\n      swiperInstance.slideTo(0, 0, false);\n      \n      updateButtonsState();\n    }\n  };\n})();\n\n\n// loop through all edition cards and add the edition query param to all URLs\n// because we are linking to a destination page and want to pre-set the edition dropdown \nexport function updateEditionCardLinkUrls() {\n\tconst allEditionCards = document.querySelectorAll(\"#edition-cards-section .edition-card-item\");\n  \n  allEditionCards.forEach((editionCard) => {\n  \tconst editionLinkElems = editionCard.querySelectorAll(\"a\"); // we defined the card multiple times in the collection item\n    const editionSlug = editionCard.getAttribute(\"data-editionslug\");\n    const bookingState = editionCard.getAttribute(\"data-bookingstate\");\n\n    editionLinkElems.forEach((link) => {\n    \t// remove link from card and give bg less opacity for booking state \"available soon\"\n    \tif (bookingState == \"Available Soon\") {\n     \t\tlink.setAttribute(\"href\", \"#\");\n        link.style.cursor = \"auto\";\n        \n        const bgImage = link.querySelector(\".edition-card-image\");\n        bgImage.style.opacity = 0.4;\n      } else if (editionSlug) {\n        const baseUrl = link.getAttribute(\"href\").split(\"?\")[0]; // Remove existing query params\n        // Update the link's href with the new query parameter\n        link.setAttribute(\"href\", `${baseUrl}?edition=${encodeURIComponent(editionSlug)}`);\n      }\n    });\n  });\n}\n", "export function initUpcomingEditionsFilter() {\n  // Set up filter buttons\n  const filterButtons = document.querySelectorAll('.filter-button');\n  const allItems = document.querySelectorAll('.filter-list-item');\n\n  // Add click event to each filter button\n  filterButtons.forEach(button => {\n    button.addEventListener('click', function() {\n      // Remove active class from all buttons\n      filterButtons.forEach(btn => btn.classList.remove(\"active\"));\n      \n      // Add active class to current button\n      this.classList.add(\"active\");\n      \n      // Get the season value from the button's data attribute\n      const season = this.getAttribute('data-season');\n            \n      // If \"All\" is selected, show all items\n      if (season === 'all') {\n        allItems.forEach(item => {\n          item.classList.remove(\"filtered-out\");\n      \t});\n      } else {\n      \t// Filter items based on the selected season\n      \tallItems.forEach(item => {\n          const itemSeason = item.getAttribute('data-season');\n          if (itemSeason === season) {\n            item.classList.remove(\"filtered-out\");\n         } else {\n            item.classList.add(\"filtered-out\");\n         }\n       });\n     }\n    });\n  });\n  \n  // Trigger \"All\" filter on page load\n  const allButton = document.querySelector('[data-season=\"all\"]');\n  if (allButton) {\n    allButton.click();\n  }\n}", "import { initEuropeMap } from '../../components/europe-map';\nimport { CollectionListDropDown } from \"../../controls/collectionListDropdown\"\nimport { updateEditionCardLinkUrls } from \"../../components/upcoming-editions\";\nimport { initUpcomingEditionsFilter } from \"../../components/upcoming-editions-filter\";\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\tupdateEditionCardLinkUrls();\n  initUpcomingEditionsFilter();\n  initEuropeMap();\n});\n\n\nfunction filterItemsByLocation(location) {\n\t// Get all edition card items\n  const allItems = document.querySelectorAll('.filter-list-item');\n  \n  // If none is selected, show all items\n  if (location === '') {\n    allItems.forEach(item => {\n      item.style.display = 'block';\n    });\n  } else {\n    // Filter items based on the selected season\n    allItems.forEach(item => {\n      const itemLocation = item.getAttribute('data-location');\n      if (itemLocation === location) {\n        item.style.display = 'block';\n      } else {\n        item.style.display = 'none';\n      }\n    });\n  }\n}\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst urlParamLocation = urlParams.get(\"location\");\n\n// Initialize the Dropdown\nCollectionListDropDown.init({ \n\tselector: \"#location-dropdown\", \n  initialValue: urlParamLocation, \n  onChange: (selectedItem) => {\n    // Get the location value from the dropdown\n    const location = selectedItem.getAttribute('data-value');\n    filterItemsByLocation(location);\n\t}\n});"],
  "mappings": "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",
  "names": ["initEuropeMap", "el", "left", "top", "init_europe_map", "__esmMin", "CollectionListDropDown", "init_collectionListDropdown", "__esmMin", "dropdowns", "initDropDown", "selector", "onChange", "initialValue", "container", "dropdown", "dropdownToggle", "dropdownList", "selectedItemValueContainer", "collectionItems", "item", "event", "selectedOption", "selectDropDownElement", "getElementByItemValue", "selectedItem", "sourceElement", "clonedElement", "currentValue", "value", "x", "updateEditionCardLinkUrls", "editionCard", "editionLinkElems", "editionSlug", "bookingState", "link", "bgImage", "baseUrl", "init_upcoming_editions", "__esmMin", "initUpcomingEditionsFilter", "filterButtons", "allItems", "button", "btn", "season", "item", "allButton", "init_upcoming_editions_filter", "__esmMin", "require_all_destinations", "__commonJSMin", "init_europe_map", "init_collectionListDropdown", "init_upcoming_editions", "init_upcoming_editions_filter", "updateEditionCardLinkUrls", "initUpcomingEditionsFilter", "initEuropeMap", "filterItemsByLocation", "location", "allItems", "item", "urlParams", "urlParamLocation", "CollectionListDropDown", "selectedItem"]
}
